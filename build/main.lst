ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"main.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.rfm69_rwReg,"ax",%progbits
  18              		.align	1
  19              		.global	rfm69_rwReg
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	rfm69_rwReg:
  27              	.LVL0:
  28              	.LFB126:
  29              		.file 1 "Inc/rfm69.h"
   1:Inc/rfm69.h   **** // Native mode RF69 driver.
   2:Inc/rfm69.h   **** #include "gpio.h"
   3:Inc/rfm69.h   **** #include "spi.h"
   4:Inc/rfm69.h   **** 
   5:Inc/rfm69.h   **** #ifndef RF69_SPI_BULK
   6:Inc/rfm69.h   **** #define RF69_SPI_BULK 0
   7:Inc/rfm69.h   **** #endif
   8:Inc/rfm69.h   **** 
   9:Inc/rfm69.h   **** void rfm69_init(uint8_t id, uint8_t group, int freq);
  10:Inc/rfm69.h   **** void rfm69_encrypt(const char *key);
  11:Inc/rfm69.h   **** void rfm69_txPower(uint8_t level);
  12:Inc/rfm69.h   **** 
  13:Inc/rfm69.h   **** int rfm69_receive(void *ptr, int len);
  14:Inc/rfm69.h   **** void rfm69_send(uint8_t header, const void *ptr, int len);
  15:Inc/rfm69.h   **** void rfm69_sleep();
  16:Inc/rfm69.h   **** 
  17:Inc/rfm69.h   **** uint8_t rfm69_rwReg (uint8_t cmd, uint8_t val);
  18:Inc/rfm69.h   **** uint8_t rfm69_readReg(uint8_t addr);
  19:Inc/rfm69.h   **** void rfm69_writeReg(uint8_t addr, uint8_t val);
  20:Inc/rfm69.h   **** 
  21:Inc/rfm69.h   **** int16_t afc;
  22:Inc/rfm69.h   **** uint8_t rssi;
  23:Inc/rfm69.h   **** uint8_t lna;
  24:Inc/rfm69.h   **** uint8_t myId;
  25:Inc/rfm69.h   **** uint8_t parity;
  26:Inc/rfm69.h   **** 
  27:Inc/rfm69.h   **** 
  28:Inc/rfm69.h   **** uint8_t rfm69_rwReg (uint8_t cmd, uint8_t val) {
  30              		.loc 1 28 48 view -0
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 2


  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 28 48 is_stmt 0 view .LVU1
  35 0000 70B5     		push	{r4, r5, r6, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 16
  38              		.cfi_offset 4, -16
  39              		.cfi_offset 5, -12
  40              		.cfi_offset 6, -8
  41              		.cfi_offset 14, -4
  42 0002 0646     		mov	r6, r0
  43 0004 0D46     		mov	r5, r1
  29:Inc/rfm69.h   ****     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_3, 0);
  44              		.loc 1 29 5 is_stmt 1 view .LVU2
  45 0006 0A4C     		ldr	r4, .L3
  46 0008 0022     		movs	r2, #0
  47 000a 0821     		movs	r1, #8
  48              	.LVL1:
  49              		.loc 1 29 5 is_stmt 0 view .LVU3
  50 000c 2046     		mov	r0, r4
  51              	.LVL2:
  52              		.loc 1 29 5 view .LVU4
  53 000e FFF7FEFF 		bl	HAL_GPIO_WritePin
  54              	.LVL3:
  30:Inc/rfm69.h   ****     SPI_transfer8(cmd);
  55              		.loc 1 30 5 is_stmt 1 view .LVU5
  56 0012 3046     		mov	r0, r6
  57 0014 FFF7FEFF 		bl	SPI_transfer8
  58              	.LVL4:
  31:Inc/rfm69.h   ****     uint8_t in = SPI_transfer8(val);
  59              		.loc 1 31 5 view .LVU6
  60              		.loc 1 31 18 is_stmt 0 view .LVU7
  61 0018 2846     		mov	r0, r5
  62 001a FFF7FEFF 		bl	SPI_transfer8
  63              	.LVL5:
  64 001e 0546     		mov	r5, r0
  65              	.LVL6:
  32:Inc/rfm69.h   ****     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_3, 1);
  66              		.loc 1 32 5 is_stmt 1 view .LVU8
  67 0020 0122     		movs	r2, #1
  68 0022 0821     		movs	r1, #8
  69 0024 2046     		mov	r0, r4
  70 0026 FFF7FEFF 		bl	HAL_GPIO_WritePin
  71              	.LVL7:
  33:Inc/rfm69.h   ****     return in;
  72              		.loc 1 33 5 view .LVU9
  34:Inc/rfm69.h   **** }
  73              		.loc 1 34 1 is_stmt 0 view .LVU10
  74 002a 2846     		mov	r0, r5
  75 002c 70BD     		pop	{r4, r5, r6, pc}
  76              	.LVL8:
  77              	.L4:
  78              		.loc 1 34 1 view .LVU11
  79 002e 00BF     		.align	2
  80              	.L3:
  81 0030 00040048 		.word	1207960576
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 3


  82              		.cfi_endproc
  83              	.LFE126:
  85              		.section	.text.rfm69_readReg,"ax",%progbits
  86              		.align	1
  87              		.global	rfm69_readReg
  88              		.syntax unified
  89              		.thumb
  90              		.thumb_func
  91              		.fpu fpv4-sp-d16
  93              	rfm69_readReg:
  94              	.LVL9:
  95              	.LFB127:
  35:Inc/rfm69.h   **** 
  36:Inc/rfm69.h   **** uint8_t rfm69_readReg(uint8_t addr) { return rfm69_rwReg(addr, 0); }
  96              		.loc 1 36 37 is_stmt 1 view -0
  97              		.cfi_startproc
  98              		@ args = 0, pretend = 0, frame = 0
  99              		@ frame_needed = 0, uses_anonymous_args = 0
 100              		.loc 1 36 37 is_stmt 0 view .LVU13
 101 0000 08B5     		push	{r3, lr}
 102              	.LCFI1:
 103              		.cfi_def_cfa_offset 8
 104              		.cfi_offset 3, -8
 105              		.cfi_offset 14, -4
 106              		.loc 1 36 39 is_stmt 1 view .LVU14
 107              		.loc 1 36 46 is_stmt 0 view .LVU15
 108 0002 0021     		movs	r1, #0
 109 0004 FFF7FEFF 		bl	rfm69_rwReg
 110              	.LVL10:
 111              		.loc 1 36 1 view .LVU16
 112 0008 08BD     		pop	{r3, pc}
 113              		.cfi_endproc
 114              	.LFE127:
 116              		.section	.text.rfm69_writeReg,"ax",%progbits
 117              		.align	1
 118              		.global	rfm69_writeReg
 119              		.syntax unified
 120              		.thumb
 121              		.thumb_func
 122              		.fpu fpv4-sp-d16
 124              	rfm69_writeReg:
 125              	.LVL11:
 126              	.LFB128:
  37:Inc/rfm69.h   **** 
  38:Inc/rfm69.h   **** void rfm69_writeReg(uint8_t addr, uint8_t val) { rfm69_rwReg(addr | 0x80, val); }
 127              		.loc 1 38 48 is_stmt 1 view -0
 128              		.cfi_startproc
 129              		@ args = 0, pretend = 0, frame = 0
 130              		@ frame_needed = 0, uses_anonymous_args = 0
 131              		.loc 1 38 48 is_stmt 0 view .LVU18
 132 0000 08B5     		push	{r3, lr}
 133              	.LCFI2:
 134              		.cfi_def_cfa_offset 8
 135              		.cfi_offset 3, -8
 136              		.cfi_offset 14, -4
 137              		.loc 1 38 50 is_stmt 1 view .LVU19
 138 0002 40F08000 		orr	r0, r0, #128
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 4


 139              	.LVL12:
 140              		.loc 1 38 50 is_stmt 0 view .LVU20
 141 0006 FFF7FEFF 		bl	rfm69_rwReg
 142              	.LVL13:
 143              		.loc 1 38 1 view .LVU21
 144 000a 08BD     		pop	{r3, pc}
 145              		.cfi_endproc
 146              	.LFE128:
 148              		.section	.text.rfm69_setMode,"ax",%progbits
 149              		.align	1
 150              		.global	rfm69_setMode
 151              		.syntax unified
 152              		.thumb
 153              		.thumb_func
 154              		.fpu fpv4-sp-d16
 156              	rfm69_setMode:
 157              	.LVL14:
 158              	.LFB129:
  39:Inc/rfm69.h   **** 
  40:Inc/rfm69.h   **** /*
  41:Inc/rfm69.h   **** uint8_t rfm69_readReg(uint8_t addr)
  42:Inc/rfm69.h   **** {
  43:Inc/rfm69.h   ****   uint8_t regval;
  44:Inc/rfm69.h   ****   HAL_GPIO_WritePin(GPIOB, GPIO_PIN_3, 0);
  45:Inc/rfm69.h   ****   SPI_transfer8(addr & 0x7F);
  46:Inc/rfm69.h   ****   regval = SPI_transfer8(0);
  47:Inc/rfm69.h   ****   HAL_GPIO_WritePin(GPIOB, GPIO_PIN_3, 1);
  48:Inc/rfm69.h   ****   return regval;
  49:Inc/rfm69.h   **** }
  50:Inc/rfm69.h   **** 
  51:Inc/rfm69.h   **** void rfm69_writeReg(uint8_t addr, uint8_t value)
  52:Inc/rfm69.h   **** {
  53:Inc/rfm69.h   ****   HAL_GPIO_WritePin(GPIOB, GPIO_PIN_3, 0);
  54:Inc/rfm69.h   ****   SPI_transfer8(addr | 0x80);
  55:Inc/rfm69.h   ****   SPI_transfer8(value);
  56:Inc/rfm69.h   ****   HAL_GPIO_WritePin(GPIOB, GPIO_PIN_3, 1);
  57:Inc/rfm69.h   **** }
  58:Inc/rfm69.h   **** */
  59:Inc/rfm69.h   **** 
  60:Inc/rfm69.h   **** #define  REG_FIFO         0x00
  61:Inc/rfm69.h   **** #define  REG_OPMODE       0x01
  62:Inc/rfm69.h   **** #define  REG_FRFMSB       0x07
  63:Inc/rfm69.h   **** #define  REG_PALEVEL      0x11
  64:Inc/rfm69.h   **** #define  REG_LNAVALUE     0x18
  65:Inc/rfm69.h   **** #define  REG_AFCMSB       0x1F
  66:Inc/rfm69.h   **** #define  REG_AFCLSB       0x20
  67:Inc/rfm69.h   **** #define  REG_FEIMSB       0x21
  68:Inc/rfm69.h   **** #define  REG_FEILSB       0x22
  69:Inc/rfm69.h   **** #define  REG_RSSIVALUE    0x24
  70:Inc/rfm69.h   **** #define  REG_IRQFLAGS1    0x27
  71:Inc/rfm69.h   **** #define  REG_IRQFLAGS2    0x28
  72:Inc/rfm69.h   **** #define  REG_SYNCVALUE1   0x2F
  73:Inc/rfm69.h   **** #define  REG_SYNCVALUE2   0x30
  74:Inc/rfm69.h   **** #define  REG_NODEADDR     0x39
  75:Inc/rfm69.h   **** #define  REG_BCASTADDR    0x3A
  76:Inc/rfm69.h   **** #define  REG_FIFOTHRESH   0x3C
  77:Inc/rfm69.h   **** #define  REG_PKTCONFIG2   0x3D
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 5


  78:Inc/rfm69.h   **** #define  REG_AESKEYMSB    0x3E
  79:Inc/rfm69.h   **** 
  80:Inc/rfm69.h   **** #define  MODE_SLEEP       0 << 2
  81:Inc/rfm69.h   **** #define  MODE_STANDBY     1 << 2
  82:Inc/rfm69.h   **** #define  MODE_TRANSMIT    3 << 2
  83:Inc/rfm69.h   **** #define  MODE_RECEIVE     4 << 2
  84:Inc/rfm69.h   **** 
  85:Inc/rfm69.h   **** #define  START_TX    0xC2
  86:Inc/rfm69.h   **** #define  STOP_TX     0x42
  87:Inc/rfm69.h   **** 
  88:Inc/rfm69.h   **** #define  RCCALSTART          0x80
  89:Inc/rfm69.h   **** #define  IRQ1_MODEREADY      1 << 7
  90:Inc/rfm69.h   **** #define  IRQ1_RXREADY        1 << 6
  91:Inc/rfm69.h   **** #define  IRQ1_SYNADDRMATCH   1 << 0
  92:Inc/rfm69.h   **** 
  93:Inc/rfm69.h   **** #define  IRQ2_FIFONOTEMPTY   1 << 6
  94:Inc/rfm69.h   **** #define  IRQ2_PACKETSENT     1 << 3
  95:Inc/rfm69.h   **** #define  IRQ2_PAYLOADREADY   1 << 2
  96:Inc/rfm69.h   **** 
  97:Inc/rfm69.h   **** 
  98:Inc/rfm69.h   **** 
  99:Inc/rfm69.h   **** void rfm69_setMode(uint8_t newMode);
 100:Inc/rfm69.h   **** void rfm69_configure(const uint8_t *p);
 101:Inc/rfm69.h   **** void rfm69_setFrequency(uint32_t freq);
 102:Inc/rfm69.h   **** 
 103:Inc/rfm69.h   **** 
 104:Inc/rfm69.h   **** uint8_t mode;
 105:Inc/rfm69.h   **** 
 106:Inc/rfm69.h   **** // driver implementation
 107:Inc/rfm69.h   **** 
 108:Inc/rfm69.h   **** void rfm69_setMode(uint8_t newMode) {
 159              		.loc 1 108 37 is_stmt 1 view -0
 160              		.cfi_startproc
 161              		@ args = 0, pretend = 0, frame = 0
 162              		@ frame_needed = 0, uses_anonymous_args = 0
 163              		.loc 1 108 37 is_stmt 0 view .LVU23
 164 0000 10B5     		push	{r4, lr}
 165              	.LCFI3:
 166              		.cfi_def_cfa_offset 8
 167              		.cfi_offset 4, -8
 168              		.cfi_offset 14, -4
 169 0002 0446     		mov	r4, r0
 109:Inc/rfm69.h   ****   mode = newMode;
 170              		.loc 1 109 3 is_stmt 1 view .LVU24
 171              		.loc 1 109 8 is_stmt 0 view .LVU25
 172 0004 094B     		ldr	r3, .L12
 173 0006 1870     		strb	r0, [r3]
 110:Inc/rfm69.h   ****   rfm69_writeReg(REG_OPMODE, (rfm69_readReg(REG_OPMODE) & 0xE3) | newMode);
 174              		.loc 1 110 3 is_stmt 1 view .LVU26
 175              		.loc 1 110 31 is_stmt 0 view .LVU27
 176 0008 0120     		movs	r0, #1
 177              	.LVL15:
 178              		.loc 1 110 31 view .LVU28
 179 000a FFF7FEFF 		bl	rfm69_readReg
 180              	.LVL16:
 181              		.loc 1 110 31 view .LVU29
 182 000e 41B2     		sxtb	r1, r0
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 6


 183              		.loc 1 110 57 view .LVU30
 184 0010 21F01C01 		bic	r1, r1, #28
 185              		.loc 1 110 65 view .LVU31
 186 0014 2143     		orrs	r1, r1, r4
 187              		.loc 1 110 3 view .LVU32
 188 0016 C9B2     		uxtb	r1, r1
 189 0018 0120     		movs	r0, #1
 190 001a FFF7FEFF 		bl	rfm69_writeReg
 191              	.LVL17:
 111:Inc/rfm69.h   ****   while ((rfm69_readReg(REG_IRQFLAGS1) & IRQ1_MODEREADY) == 0);
 192              		.loc 1 111 3 is_stmt 1 view .LVU33
 193              	.L10:
 194              		.loc 1 111 63 discriminator 1 view .LVU34
 195              		.loc 1 111 11 is_stmt 0 discriminator 1 view .LVU35
 196 001e 2720     		movs	r0, #39
 197 0020 FFF7FEFF 		bl	rfm69_readReg
 198              	.LVL18:
 199              		.loc 1 111 9 discriminator 1 view .LVU36
 200 0024 10F0800F 		tst	r0, #128
 201 0028 F9D0     		beq	.L10
 112:Inc/rfm69.h   **** }
 202              		.loc 1 112 1 view .LVU37
 203 002a 10BD     		pop	{r4, pc}
 204              	.L13:
 205              		.align	2
 206              	.L12:
 207 002c 00000000 		.word	mode
 208              		.cfi_endproc
 209              	.LFE129:
 211              		.section	.text.rfm69_setFrequency,"ax",%progbits
 212              		.align	1
 213              		.global	rfm69_setFrequency
 214              		.syntax unified
 215              		.thumb
 216              		.thumb_func
 217              		.fpu fpv4-sp-d16
 219              	rfm69_setFrequency:
 220              	.LVL19:
 221              	.LFB130:
 113:Inc/rfm69.h   **** 
 114:Inc/rfm69.h   **** void rfm69_setFrequency(uint32_t hz) {
 222              		.loc 1 114 38 is_stmt 1 view -0
 223              		.cfi_startproc
 224              		@ args = 0, pretend = 0, frame = 0
 225              		@ frame_needed = 0, uses_anonymous_args = 0
 226              		.loc 1 114 38 is_stmt 0 view .LVU39
 227 0000 08B5     		push	{r3, lr}
 228              	.LCFI4:
 229              		.cfi_def_cfa_offset 8
 230              		.cfi_offset 3, -8
 231              		.cfi_offset 14, -4
 115:Inc/rfm69.h   ****   // accept any frequency scale as input, including KHz and MHz
 116:Inc/rfm69.h   ****   // multiply by 10 until freq >= 100 MHz (don't specify 0 as input!)
 117:Inc/rfm69.h   ****   while (hz < 100000000)
 232              		.loc 1 117 3 is_stmt 1 view .LVU40
 233              	.LVL20:
 234              	.L15:
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 7


 235              		.loc 1 117 9 is_stmt 0 view .LVU41
 236 0002 0A4B     		ldr	r3, .L19
 237 0004 9842     		cmp	r0, r3
 238 0006 03D8     		bhi	.L18
 118:Inc/rfm69.h   ****     hz *= 10;
 239              		.loc 1 118 5 is_stmt 1 view .LVU42
 240              		.loc 1 118 8 is_stmt 0 view .LVU43
 241 0008 00EB8003 		add	r3, r0, r0, lsl #2
 242 000c 5800     		lsls	r0, r3, #1
 243              	.LVL21:
 244              		.loc 1 118 8 view .LVU44
 245 000e F8E7     		b	.L15
 246              	.L18:
 119:Inc/rfm69.h   **** 
 120:Inc/rfm69.h   ****   // Frequency steps are in units of (32,000,000 >> 19) = 61.03515625 Hz
 121:Inc/rfm69.h   ****   // use multiples of 64 to avoid multi-precision arithmetic, i.e. 3906.25 Hz
 122:Inc/rfm69.h   ****   // due to this, the lower 6 bits of the calculated factor will always be 0
 123:Inc/rfm69.h   ****   // this is still 4 ppm, i.e. well below the radio's 32 MHz crystal accuracy
 124:Inc/rfm69.h   ****   // 868.0 MHz = 0xD90000, 868.3 MHz = 0xD91300, 915.0 MHz = 0xE4C000
 125:Inc/rfm69.h   ****   uint32_t frf = (hz << 2) / (32000000L >> 11);
 247              		.loc 1 125 3 is_stmt 1 view .LVU45
 248              	.LVL22:
 126:Inc/rfm69.h   ****   //#define RF_FRFMSB_433             0x6C
 127:Inc/rfm69.h   ****   //#define RF_FRFMID_433             0x40
 128:Inc/rfm69.h   ****   //#define RF_FRFLSB_433             0x00
 129:Inc/rfm69.h   ****   rfm69_writeReg(REG_FRFMSB, 0x6C);
 249              		.loc 1 129 3 view .LVU46
 250 0010 6C21     		movs	r1, #108
 251 0012 0720     		movs	r0, #7
 252              	.LVL23:
 253              		.loc 1 129 3 is_stmt 0 view .LVU47
 254 0014 FFF7FEFF 		bl	rfm69_writeReg
 255              	.LVL24:
 130:Inc/rfm69.h   ****   rfm69_writeReg(REG_FRFMSB + 1, 0x40);
 256              		.loc 1 130 3 is_stmt 1 view .LVU48
 257 0018 4021     		movs	r1, #64
 258 001a 0820     		movs	r0, #8
 259 001c FFF7FEFF 		bl	rfm69_writeReg
 260              	.LVL25:
 131:Inc/rfm69.h   ****   rfm69_writeReg(REG_FRFMSB + 2, 0x00);
 261              		.loc 1 131 3 view .LVU49
 262 0020 0021     		movs	r1, #0
 263 0022 0920     		movs	r0, #9
 264 0024 FFF7FEFF 		bl	rfm69_writeReg
 265              	.LVL26:
 132:Inc/rfm69.h   **** }
 266              		.loc 1 132 1 is_stmt 0 view .LVU50
 267 0028 08BD     		pop	{r3, pc}
 268              	.L20:
 269 002a 00BF     		.align	2
 270              	.L19:
 271 002c FFE0F505 		.word	99999999
 272              		.cfi_endproc
 273              	.LFE130:
 275              		.section	.text.rfm69_configure,"ax",%progbits
 276              		.align	1
 277              		.global	rfm69_configure
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 8


 278              		.syntax unified
 279              		.thumb
 280              		.thumb_func
 281              		.fpu fpv4-sp-d16
 283              	rfm69_configure:
 284              	.LVL27:
 285              	.LFB131:
 133:Inc/rfm69.h   **** 
 134:Inc/rfm69.h   **** void rfm69_configure(const uint8_t *p) {
 286              		.loc 1 134 40 is_stmt 1 view -0
 287              		.cfi_startproc
 288              		@ args = 0, pretend = 0, frame = 0
 289              		@ frame_needed = 0, uses_anonymous_args = 0
 290              		.loc 1 134 40 is_stmt 0 view .LVU52
 291 0000 10B5     		push	{r4, lr}
 292              	.LCFI5:
 293              		.cfi_def_cfa_offset 8
 294              		.cfi_offset 4, -8
 295              		.cfi_offset 14, -4
 296 0002 0446     		mov	r4, r0
 297              	.LVL28:
 298              	.L23:
 135:Inc/rfm69.h   ****   while (true) {
 299              		.loc 1 135 3 is_stmt 1 view .LVU53
 300              	.LBB2:
 136:Inc/rfm69.h   ****     uint8_t cmd = p[0];
 301              		.loc 1 136 5 view .LVU54
 302              		.loc 1 136 13 is_stmt 0 view .LVU55
 303 0004 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 304              	.LVL29:
 137:Inc/rfm69.h   ****     if (cmd == 0)
 305              		.loc 1 137 5 is_stmt 1 view .LVU56
 306              		.loc 1 137 8 is_stmt 0 view .LVU57
 307 0006 20B1     		cbz	r0, .L21
 138:Inc/rfm69.h   ****       break;
 139:Inc/rfm69.h   ****     rfm69_writeReg(cmd, p[1]);
 308              		.loc 1 139 5 is_stmt 1 view .LVU58
 309 0008 6178     		ldrb	r1, [r4, #1]	@ zero_extendqisi2
 310 000a FFF7FEFF 		bl	rfm69_writeReg
 311              	.LVL30:
 140:Inc/rfm69.h   ****     p += 2;
 312              		.loc 1 140 5 view .LVU59
 313              		.loc 1 140 7 is_stmt 0 view .LVU60
 314 000e 0234     		adds	r4, r4, #2
 315              	.LVL31:
 316              		.loc 1 140 7 view .LVU61
 317              	.LBE2:
 135:Inc/rfm69.h   ****     uint8_t cmd = p[0];
 318              		.loc 1 135 16 view .LVU62
 319 0010 F8E7     		b	.L23
 320              	.LVL32:
 321              	.L21:
 141:Inc/rfm69.h   ****   }
 142:Inc/rfm69.h   **** }
 322              		.loc 1 142 1 view .LVU63
 323 0012 10BD     		pop	{r4, pc}
 324              		.loc 1 142 1 view .LVU64
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 9


 325              		.cfi_endproc
 326              	.LFE131:
 328              		.section	.text.rfm69_init,"ax",%progbits
 329              		.align	1
 330              		.global	rfm69_init
 331              		.syntax unified
 332              		.thumb
 333              		.thumb_func
 334              		.fpu fpv4-sp-d16
 336              	rfm69_init:
 337              	.LVL33:
 338              	.LFB132:
 143:Inc/rfm69.h   **** 
 144:Inc/rfm69.h   **** static const uint8_t configRegs[] = {
 145:Inc/rfm69.h   ****     // POR value is better for first rf_sleep  0x01, 0x00, // OpMode = sleep
 146:Inc/rfm69.h   ****     0x02, 0x00, // DataModul = packet mode, fsk
 147:Inc/rfm69.h   ****     0x03, 0x02, // BitRateMsb, data rate = 49,261 khz
 148:Inc/rfm69.h   ****     0x04, 0x8A, // BitRateLsb, divider = 32 MHz / 650
 149:Inc/rfm69.h   ****     0x05, 0x02, // FdevMsb = 45 KHz
 150:Inc/rfm69.h   ****     0x06, 0xE1, // FdevLsb = 45 KHz
 151:Inc/rfm69.h   ****     0x0B, 0x20, // Low M
 152:Inc/rfm69.h   ****     0x19, 0x4A, // RxBw 100 KHz
 153:Inc/rfm69.h   ****     0x1A, 0x42, // AfcBw 125 KHz
 154:Inc/rfm69.h   ****     0x1E, 0x0C, // AfcAutoclearOn, AfcAutoOn
 155:Inc/rfm69.h   ****     0x25, 0x40, //0x80, // DioMapping1 = SyncAddress (Rx)
 156:Inc/rfm69.h   ****     0x26, 0x07, // disable clkout
 157:Inc/rfm69.h   ****     0x29, 0xA0, // RssiThresh -80 dB
 158:Inc/rfm69.h   ****     0x2D, 0x05, // PreambleSize = 5
 159:Inc/rfm69.h   ****     0x2E, 0x88, // SyncConfig = sync on, sync size = 2
 160:Inc/rfm69.h   ****     0x2F, 0x2D, // SyncValue1 = 0x2D
 161:Inc/rfm69.h   ****     0x37, 0xD0, // PacketConfig1 = fixed, white, no filtering
 162:Inc/rfm69.h   ****     0x38, 0x42, // PayloadLength = 0, unlimited
 163:Inc/rfm69.h   ****     0x3C, 0x8F, // FifoTresh, not empty, level 15
 164:Inc/rfm69.h   ****     0x3D, 0x12, // 0x10, // PacketConfig2, interpkt = 1, autorxrestart off
 165:Inc/rfm69.h   ****     0x6F, 0x20, // TestDagc ...
 166:Inc/rfm69.h   ****     0x71, 0x02, // RegTestAfc
 167:Inc/rfm69.h   ****     0};
 168:Inc/rfm69.h   **** 
 169:Inc/rfm69.h   **** 
 170:Inc/rfm69.h   **** void rfm69_init(uint8_t id, uint8_t group, int freq) {
 339              		.loc 1 170 54 is_stmt 1 view -0
 340              		.cfi_startproc
 341              		@ args = 0, pretend = 0, frame = 0
 342              		@ frame_needed = 0, uses_anonymous_args = 0
 343              		.loc 1 170 54 is_stmt 0 view .LVU66
 344 0000 70B5     		push	{r4, r5, r6, lr}
 345              	.LCFI6:
 346              		.cfi_def_cfa_offset 16
 347              		.cfi_offset 4, -16
 348              		.cfi_offset 5, -12
 349              		.cfi_offset 6, -8
 350              		.cfi_offset 14, -4
 351 0002 0C46     		mov	r4, r1
 352 0004 1646     		mov	r6, r2
 171:Inc/rfm69.h   ****   myId = id;
 353              		.loc 1 171 3 is_stmt 1 view .LVU67
 354              		.loc 1 171 8 is_stmt 0 view .LVU68
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 10


 355 0006 0D4B     		ldr	r3, .L27
 356 0008 1870     		strb	r0, [r3]
 172:Inc/rfm69.h   **** 
 173:Inc/rfm69.h   ****   // b7 = group b7^b5^b3^b1, b6 = group b6^b4^b2^b0
 174:Inc/rfm69.h   ****   parity = group ^ (group << 4);
 357              		.loc 1 174 3 is_stmt 1 view .LVU69
 358              		.loc 1 174 18 is_stmt 0 view .LVU70
 359 000a 81EA0113 		eor	r3, r1, r1, lsl #4
 360 000e 5BB2     		sxtb	r3, r3
 361 0010 DAB2     		uxtb	r2, r3
 362              	.LVL34:
 175:Inc/rfm69.h   ****   parity = (parity ^ (parity << 2)) & 0xC0;
 363              		.loc 1 175 3 is_stmt 1 view .LVU71
 364              		.loc 1 175 20 is_stmt 0 view .LVU72
 365 0012 83EA8203 		eor	r3, r3, r2, lsl #2
 366              		.loc 1 175 37 view .LVU73
 367 0016 03F0C003 		and	r3, r3, #192
 368              		.loc 1 175 10 view .LVU74
 369 001a 094A     		ldr	r2, .L27+4
 370 001c 1370     		strb	r3, [r2]
 176:Inc/rfm69.h   **** 
 177:Inc/rfm69.h   ****   // 10 MHz, i.e. 30 MHz / 3 (or 4 MHz if clock is still at 12 MHz)
 178:Inc/rfm69.h   ****   //spi.master(3);
 179:Inc/rfm69.h   ****   //do
 180:Inc/rfm69.h   ****   //  rfm69_writeReg(REG_SYNCVALUE1, 0x2D);
 181:Inc/rfm69.h   ****   //while (rfm69_readReg(REG_SYNCVALUE1) != 0xAA);
 182:Inc/rfm69.h   **** //  do
 183:Inc/rfm69.h   ****   //  rfm69_writeReg(REG_SYNCVALUE1, 0x55);
 184:Inc/rfm69.h   ****   //while (rfm69_readReg(REG_SYNCVALUE1) != 0x55);
 185:Inc/rfm69.h   **** 
 186:Inc/rfm69.h   ****   rfm69_configure(configRegs);
 371              		.loc 1 186 3 is_stmt 1 view .LVU75
 372 001e 094D     		ldr	r5, .L27+8
 373 0020 2846     		mov	r0, r5
 374              	.LVL35:
 375              		.loc 1 186 3 is_stmt 0 view .LVU76
 376 0022 FFF7FEFF 		bl	rfm69_configure
 377              	.LVL36:
 187:Inc/rfm69.h   ****   rfm69_configure(configRegs); // TODO why is this needed ???
 378              		.loc 1 187 3 is_stmt 1 view .LVU77
 379 0026 2846     		mov	r0, r5
 380 0028 FFF7FEFF 		bl	rfm69_configure
 381              	.LVL37:
 188:Inc/rfm69.h   ****   rfm69_setFrequency(freq);
 382              		.loc 1 188 3 view .LVU78
 383 002c 3046     		mov	r0, r6
 384 002e FFF7FEFF 		bl	rfm69_setFrequency
 385              	.LVL38:
 189:Inc/rfm69.h   **** 
 190:Inc/rfm69.h   ****   rfm69_writeReg(REG_SYNCVALUE2, group);
 386              		.loc 1 190 3 view .LVU79
 387 0032 2146     		mov	r1, r4
 388 0034 3020     		movs	r0, #48
 389 0036 FFF7FEFF 		bl	rfm69_writeReg
 390              	.LVL39:
 191:Inc/rfm69.h   **** }
 391              		.loc 1 191 1 is_stmt 0 view .LVU80
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 11


 392 003a 70BD     		pop	{r4, r5, r6, pc}
 393              	.LVL40:
 394              	.L28:
 395              		.loc 1 191 1 view .LVU81
 396              		.align	2
 397              	.L27:
 398 003c 00000000 		.word	myId
 399 0040 00000000 		.word	parity
 400 0044 00000000 		.word	.LANCHOR0
 401              		.cfi_endproc
 402              	.LFE132:
 404              		.section	.text.rfm69_encrypt,"ax",%progbits
 405              		.align	1
 406              		.global	rfm69_encrypt
 407              		.syntax unified
 408              		.thumb
 409              		.thumb_func
 410              		.fpu fpv4-sp-d16
 412              	rfm69_encrypt:
 413              	.LVL41:
 414              	.LFB133:
 192:Inc/rfm69.h   **** 
 193:Inc/rfm69.h   **** void rfm69_encrypt(const char *key) {
 415              		.loc 1 193 37 is_stmt 1 view -0
 416              		.cfi_startproc
 417              		@ args = 0, pretend = 0, frame = 0
 418              		@ frame_needed = 0, uses_anonymous_args = 0
 419              		.loc 1 193 37 is_stmt 0 view .LVU83
 420 0000 70B5     		push	{r4, r5, r6, lr}
 421              	.LCFI7:
 422              		.cfi_def_cfa_offset 16
 423              		.cfi_offset 4, -16
 424              		.cfi_offset 5, -12
 425              		.cfi_offset 6, -8
 426              		.cfi_offset 14, -4
 427 0002 0546     		mov	r5, r0
 194:Inc/rfm69.h   ****   uint8_t cfg = rfm69_readReg(REG_PKTCONFIG2) & ~0x01;
 428              		.loc 1 194 3 is_stmt 1 view .LVU84
 429              		.loc 1 194 17 is_stmt 0 view .LVU85
 430 0004 3D20     		movs	r0, #61
 431              	.LVL42:
 432              		.loc 1 194 17 view .LVU86
 433 0006 FFF7FEFF 		bl	rfm69_readReg
 434              	.LVL43:
 435              		.loc 1 194 11 view .LVU87
 436 000a 00F0FE06 		and	r6, r0, #254
 437              	.LVL44:
 195:Inc/rfm69.h   ****   if (key) {
 438              		.loc 1 195 3 is_stmt 1 view .LVU88
 439              		.loc 1 195 6 is_stmt 0 view .LVU89
 440 000e 8DB1     		cbz	r5, .L31
 441              	.LBB3:
 196:Inc/rfm69.h   ****     for (int i = 0; i < 16; ++i) {
 442              		.loc 1 196 14 view .LVU90
 443 0010 0024     		movs	r4, #0
 444 0012 00E0     		b	.L30
 445              	.LVL45:
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 12


 446              	.L32:
 447              		.loc 1 196 29 discriminator 2 view .LVU91
 448 0014 0134     		adds	r4, r4, #1
 449              	.LVL46:
 450              	.L30:
 451              		.loc 1 196 5 discriminator 1 view .LVU92
 452 0016 0F2C     		cmp	r4, #15
 453 0018 0ADC     		bgt	.L36
 197:Inc/rfm69.h   ****       rfm69_writeReg(REG_AESKEYMSB + i, *key);
 454              		.loc 1 197 7 is_stmt 1 view .LVU93
 455 001a 04F13E00 		add	r0, r4, #62
 456 001e 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 457 0020 C0B2     		uxtb	r0, r0
 458 0022 FFF7FEFF 		bl	rfm69_writeReg
 459              	.LVL47:
 198:Inc/rfm69.h   ****       if (*key != 0)
 460              		.loc 1 198 7 view .LVU94
 461              		.loc 1 198 11 is_stmt 0 view .LVU95
 462 0026 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 463              		.loc 1 198 10 view .LVU96
 464 0028 002B     		cmp	r3, #0
 465 002a F3D0     		beq	.L32
 199:Inc/rfm69.h   ****         ++key;
 466              		.loc 1 199 9 is_stmt 1 view .LVU97
 467 002c 0135     		adds	r5, r5, #1
 468              	.LVL48:
 469              		.loc 1 199 9 is_stmt 0 view .LVU98
 470 002e F1E7     		b	.L32
 471              	.L36:
 472              		.loc 1 199 9 view .LVU99
 473              	.LBE3:
 200:Inc/rfm69.h   ****     }
 201:Inc/rfm69.h   ****     cfg |= 0x01;
 474              		.loc 1 201 5 is_stmt 1 view .LVU100
 475              		.loc 1 201 9 is_stmt 0 view .LVU101
 476 0030 46F00106 		orr	r6, r6, #1
 477              	.LVL49:
 478              	.L31:
 202:Inc/rfm69.h   ****   }
 203:Inc/rfm69.h   ****   rfm69_writeReg(REG_PKTCONFIG2, cfg);
 479              		.loc 1 203 3 is_stmt 1 view .LVU102
 480 0034 3146     		mov	r1, r6
 481 0036 3D20     		movs	r0, #61
 482 0038 FFF7FEFF 		bl	rfm69_writeReg
 483              	.LVL50:
 204:Inc/rfm69.h   **** }
 484              		.loc 1 204 1 is_stmt 0 view .LVU103
 485 003c 70BD     		pop	{r4, r5, r6, pc}
 486              		.loc 1 204 1 view .LVU104
 487              		.cfi_endproc
 488              	.LFE133:
 490              		.section	.text.rfm69_txPower,"ax",%progbits
 491              		.align	1
 492              		.global	rfm69_txPower
 493              		.syntax unified
 494              		.thumb
 495              		.thumb_func
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 13


 496              		.fpu fpv4-sp-d16
 498              	rfm69_txPower:
 499              	.LVL51:
 500              	.LFB134:
 205:Inc/rfm69.h   **** 
 206:Inc/rfm69.h   **** void rfm69_txPower(uint8_t level) {
 501              		.loc 1 206 35 is_stmt 1 view -0
 502              		.cfi_startproc
 503              		@ args = 0, pretend = 0, frame = 0
 504              		@ frame_needed = 0, uses_anonymous_args = 0
 505              		.loc 1 206 35 is_stmt 0 view .LVU106
 506 0000 10B5     		push	{r4, lr}
 507              	.LCFI8:
 508              		.cfi_def_cfa_offset 8
 509              		.cfi_offset 4, -8
 510              		.cfi_offset 14, -4
 511 0002 0446     		mov	r4, r0
 207:Inc/rfm69.h   ****   rfm69_writeReg(REG_PALEVEL, (rfm69_readReg(REG_PALEVEL) & ~0x1F) | level);
 512              		.loc 1 207 3 is_stmt 1 view .LVU107
 513              		.loc 1 207 32 is_stmt 0 view .LVU108
 514 0004 1120     		movs	r0, #17
 515              	.LVL52:
 516              		.loc 1 207 32 view .LVU109
 517 0006 FFF7FEFF 		bl	rfm69_readReg
 518              	.LVL53:
 519 000a 41B2     		sxtb	r1, r0
 520              		.loc 1 207 59 view .LVU110
 521 000c 21F01F01 		bic	r1, r1, #31
 522              		.loc 1 207 68 view .LVU111
 523 0010 2143     		orrs	r1, r1, r4
 524              		.loc 1 207 3 view .LVU112
 525 0012 C9B2     		uxtb	r1, r1
 526 0014 1120     		movs	r0, #17
 527 0016 FFF7FEFF 		bl	rfm69_writeReg
 528              	.LVL54:
 208:Inc/rfm69.h   **** }
 529              		.loc 1 208 1 view .LVU113
 530 001a 10BD     		pop	{r4, pc}
 531              		.cfi_endproc
 532              	.LFE134:
 534              		.section	.text.rfm69_sleep,"ax",%progbits
 535              		.align	1
 536              		.global	rfm69_sleep
 537              		.syntax unified
 538              		.thumb
 539              		.thumb_func
 540              		.fpu fpv4-sp-d16
 542              	rfm69_sleep:
 543              	.LFB135:
 209:Inc/rfm69.h   **** 
 210:Inc/rfm69.h   **** void rfm69_sleep() { rfm69_setMode(MODE_SLEEP); }
 544              		.loc 1 210 20 is_stmt 1 view -0
 545              		.cfi_startproc
 546              		@ args = 0, pretend = 0, frame = 0
 547              		@ frame_needed = 0, uses_anonymous_args = 0
 548 0000 08B5     		push	{r3, lr}
 549              	.LCFI9:
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 14


 550              		.cfi_def_cfa_offset 8
 551              		.cfi_offset 3, -8
 552              		.cfi_offset 14, -4
 553              		.loc 1 210 22 view .LVU115
 554 0002 0020     		movs	r0, #0
 555 0004 FFF7FEFF 		bl	rfm69_setMode
 556              	.LVL55:
 557              		.loc 1 210 1 is_stmt 0 view .LVU116
 558 0008 08BD     		pop	{r3, pc}
 559              		.cfi_endproc
 560              	.LFE135:
 562              		.section	.text.rfm69_receive,"ax",%progbits
 563              		.align	1
 564              		.global	rfm69_receive
 565              		.syntax unified
 566              		.thumb
 567              		.thumb_func
 568              		.fpu fpv4-sp-d16
 570              	rfm69_receive:
 571              	.LVL56:
 572              	.LFB136:
 211:Inc/rfm69.h   **** 
 212:Inc/rfm69.h   **** int rfm69_receive(void *ptr, int len) {
 573              		.loc 1 212 39 is_stmt 1 view -0
 574              		.cfi_startproc
 575              		@ args = 0, pretend = 0, frame = 0
 576              		@ frame_needed = 0, uses_anonymous_args = 0
 577              		.loc 1 212 39 is_stmt 0 view .LVU118
 578 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 579              	.LCFI10:
 580              		.cfi_def_cfa_offset 24
 581              		.cfi_offset 3, -24
 582              		.cfi_offset 4, -20
 583              		.cfi_offset 5, -16
 584              		.cfi_offset 6, -12
 585              		.cfi_offset 7, -8
 586              		.cfi_offset 14, -4
 213:Inc/rfm69.h   ****       if (mode != MODE_RECEIVE)
 587              		.loc 1 213 7 is_stmt 1 view .LVU119
 588              		.loc 1 213 16 is_stmt 0 view .LVU120
 589 0002 324B     		ldr	r3, .L55
 590 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 591              		.loc 1 213 10 view .LVU121
 592 0006 102B     		cmp	r3, #16
 593 0008 1BD1     		bne	.L51
 594 000a 0746     		mov	r7, r0
 595 000c 0E46     		mov	r6, r1
 596              	.LBB4:
 214:Inc/rfm69.h   ****         rfm69_setMode(MODE_RECEIVE);
 215:Inc/rfm69.h   ****       else {
 216:Inc/rfm69.h   ****         static uint8_t lastFlag;
 597              		.loc 1 216 9 is_stmt 1 view .LVU122
 217:Inc/rfm69.h   ****         if ((rfm69_readReg(REG_IRQFLAGS1) & IRQ1_RXREADY) != lastFlag) {
 598              		.loc 1 217 9 view .LVU123
 599              		.loc 1 217 14 is_stmt 0 view .LVU124
 600 000e 2720     		movs	r0, #39
 601              	.LVL57:
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 15


 602              		.loc 1 217 14 view .LVU125
 603 0010 FFF7FEFF 		bl	rfm69_readReg
 604              	.LVL58:
 605              		.loc 1 217 59 view .LVU126
 606 0014 2E4B     		ldr	r3, .L55+4
 607 0016 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 608              		.loc 1 217 12 view .LVU127
 609 0018 00F04000 		and	r0, r0, #64
 610 001c 8342     		cmp	r3, r0
 611 001e 04D0     		beq	.L44
 218:Inc/rfm69.h   ****           lastFlag ^= IRQ1_RXREADY;
 612              		.loc 1 218 11 is_stmt 1 view .LVU128
 613              		.loc 1 218 20 is_stmt 0 view .LVU129
 614 0020 83F04003 		eor	r3, r3, #64
 615 0024 2A4A     		ldr	r2, .L55+4
 616 0026 1370     		strb	r3, [r2]
 219:Inc/rfm69.h   ****           if (lastFlag) { // flag just went from 0 to 1
 617              		.loc 1 219 11 is_stmt 1 view .LVU130
 618              		.loc 1 219 14 is_stmt 0 view .LVU131
 619 0028 8BB9     		cbnz	r3, .L52
 620              	.L44:
 220:Inc/rfm69.h   ****             rssi = rfm69_readReg(REG_RSSIVALUE);
 221:Inc/rfm69.h   ****             lna = (rfm69_readReg(REG_LNAVALUE) >> 3) & 0x7;
 222:Inc/rfm69.h   ****     #if RF69_SPI_BULK
 223:Inc/rfm69.h   ****             spi.enable();
 224:Inc/rfm69.h   ****             spi.transfer(REG_AFCMSB);
 225:Inc/rfm69.h   ****             afc = spi.transfer(0) << 8;
 226:Inc/rfm69.h   ****             afc |= spi.transfer(0);
 227:Inc/rfm69.h   ****             spi.disable();
 228:Inc/rfm69.h   ****     #else
 229:Inc/rfm69.h   ****             afc = rfm69_readReg(REG_AFCMSB) << 8;
 230:Inc/rfm69.h   ****             afc |= rfm69_readReg(REG_AFCLSB);
 231:Inc/rfm69.h   ****     #endif
 232:Inc/rfm69.h   ****           }
 233:Inc/rfm69.h   ****         }
 234:Inc/rfm69.h   **** 
 235:Inc/rfm69.h   ****         if (rfm69_readReg(REG_IRQFLAGS2) & IRQ2_PAYLOADREADY) {
 621              		.loc 1 235 9 is_stmt 1 view .LVU132
 622              		.loc 1 235 13 is_stmt 0 view .LVU133
 623 002a 2820     		movs	r0, #40
 624 002c FFF7FEFF 		bl	rfm69_readReg
 625              	.LVL59:
 626              		.loc 1 235 12 view .LVU134
 627 0030 10F0040F 		tst	r0, #4
 628 0034 44D0     		beq	.L48
 629              	.LBB5:
 236:Inc/rfm69.h   **** 
 237:Inc/rfm69.h   ****     #if RF69_SPI_BULK
 238:Inc/rfm69.h   ****           spi.enable();
 239:Inc/rfm69.h   ****           spi.transfer(REG_FIFO);
 240:Inc/rfm69.h   ****           int count = spi.transfer(0);
 241:Inc/rfm69.h   ****           for (int i = 0; i < count; ++i) {
 242:Inc/rfm69.h   ****             uint8_t v = spi.transfer(0);
 243:Inc/rfm69.h   ****             if (i < len)
 244:Inc/rfm69.h   ****               ((uint8_t *)ptr)[i] = v;
 245:Inc/rfm69.h   ****           }
 246:Inc/rfm69.h   ****           spi.disable();
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 16


 247:Inc/rfm69.h   ****     #else
 248:Inc/rfm69.h   ****           int count = rfm69_readReg(REG_FIFO);
 630              		.loc 1 248 11 is_stmt 1 view .LVU135
 631              		.loc 1 248 23 is_stmt 0 view .LVU136
 632 0036 0020     		movs	r0, #0
 633 0038 FFF7FEFF 		bl	rfm69_readReg
 634              	.LVL60:
 635              		.loc 1 248 15 view .LVU137
 636 003c 0546     		mov	r5, r0
 637              	.LVL61:
 249:Inc/rfm69.h   ****           for (int i = 0; i < count; ++i) {
 638              		.loc 1 249 11 is_stmt 1 view .LVU138
 639              	.LBB6:
 640              		.loc 1 249 16 view .LVU139
 641              		.loc 1 249 20 is_stmt 0 view .LVU140
 642 003e 0024     		movs	r4, #0
 643              		.loc 1 249 11 view .LVU141
 644 0040 20E0     		b	.L45
 645              	.LVL62:
 646              	.L51:
 647              		.loc 1 249 11 view .LVU142
 648              	.LBE6:
 649              	.LBE5:
 650              	.LBE4:
 214:Inc/rfm69.h   ****       else {
 651              		.loc 1 214 9 is_stmt 1 view .LVU143
 652 0042 1020     		movs	r0, #16
 653              	.LVL63:
 214:Inc/rfm69.h   ****       else {
 654              		.loc 1 214 9 is_stmt 0 view .LVU144
 655 0044 FFF7FEFF 		bl	rfm69_setMode
 656              	.LVL64:
 250:Inc/rfm69.h   ****             uint8_t v = rfm69_readReg(REG_FIFO);
 251:Inc/rfm69.h   ****             if (i < len)
 252:Inc/rfm69.h   ****               ((uint8_t *)ptr)[i] = v;
 253:Inc/rfm69.h   ****           }
 254:Inc/rfm69.h   ****     #endif
 255:Inc/rfm69.h   **** 
 256:Inc/rfm69.h   ****           // only accept packets intended for us, or broadcasts
 257:Inc/rfm69.h   ****           // ... or any packet if we're the special catch-all node
 258:Inc/rfm69.h   ****           uint8_t dest = *(uint8_t *)ptr;
 259:Inc/rfm69.h   ****           if ((dest & 0xC0) == parity) {
 260:Inc/rfm69.h   ****             uint8_t destId = dest & 0x3F;
 261:Inc/rfm69.h   ****             if (destId == myId || destId == 0 || myId == 63)
 262:Inc/rfm69.h   ****               return count;
 263:Inc/rfm69.h   ****           }
 264:Inc/rfm69.h   ****         }
 265:Inc/rfm69.h   ****       }
 266:Inc/rfm69.h   ****       return -1;
 657              		.loc 1 266 14 view .LVU145
 658 0048 4FF0FF35 		mov	r5, #-1
 659 004c 33E0     		b	.L41
 660              	.LVL65:
 661              	.L52:
 662              	.LBB11:
 220:Inc/rfm69.h   ****             lna = (rfm69_readReg(REG_LNAVALUE) >> 3) & 0x7;
 663              		.loc 1 220 13 is_stmt 1 view .LVU146
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 17


 220:Inc/rfm69.h   ****             lna = (rfm69_readReg(REG_LNAVALUE) >> 3) & 0x7;
 664              		.loc 1 220 20 is_stmt 0 view .LVU147
 665 004e 2420     		movs	r0, #36
 666 0050 FFF7FEFF 		bl	rfm69_readReg
 667              	.LVL66:
 220:Inc/rfm69.h   ****             lna = (rfm69_readReg(REG_LNAVALUE) >> 3) & 0x7;
 668              		.loc 1 220 18 view .LVU148
 669 0054 1F4B     		ldr	r3, .L55+8
 670 0056 1870     		strb	r0, [r3]
 221:Inc/rfm69.h   ****     #if RF69_SPI_BULK
 671              		.loc 1 221 13 is_stmt 1 view .LVU149
 221:Inc/rfm69.h   ****     #if RF69_SPI_BULK
 672              		.loc 1 221 20 is_stmt 0 view .LVU150
 673 0058 1820     		movs	r0, #24
 674 005a FFF7FEFF 		bl	rfm69_readReg
 675              	.LVL67:
 221:Inc/rfm69.h   ****     #if RF69_SPI_BULK
 676              		.loc 1 221 54 view .LVU151
 677 005e C0F3C200 		ubfx	r0, r0, #3, #3
 221:Inc/rfm69.h   ****     #if RF69_SPI_BULK
 678              		.loc 1 221 17 view .LVU152
 679 0062 1D4B     		ldr	r3, .L55+12
 680 0064 1870     		strb	r0, [r3]
 229:Inc/rfm69.h   ****             afc |= rfm69_readReg(REG_AFCLSB);
 681              		.loc 1 229 13 is_stmt 1 view .LVU153
 229:Inc/rfm69.h   ****             afc |= rfm69_readReg(REG_AFCLSB);
 682              		.loc 1 229 19 is_stmt 0 view .LVU154
 683 0066 1F20     		movs	r0, #31
 684 0068 FFF7FEFF 		bl	rfm69_readReg
 685              	.LVL68:
 229:Inc/rfm69.h   ****             afc |= rfm69_readReg(REG_AFCLSB);
 686              		.loc 1 229 45 view .LVU155
 687 006c 0002     		lsls	r0, r0, #8
 229:Inc/rfm69.h   ****             afc |= rfm69_readReg(REG_AFCLSB);
 688              		.loc 1 229 17 view .LVU156
 689 006e 1B4C     		ldr	r4, .L55+16
 690 0070 2080     		strh	r0, [r4]	@ movhi
 230:Inc/rfm69.h   ****     #endif
 691              		.loc 1 230 13 is_stmt 1 view .LVU157
 230:Inc/rfm69.h   ****     #endif
 692              		.loc 1 230 20 is_stmt 0 view .LVU158
 693 0072 2020     		movs	r0, #32
 694 0074 FFF7FEFF 		bl	rfm69_readReg
 695              	.LVL69:
 696 0078 00B2     		sxth	r0, r0
 230:Inc/rfm69.h   ****     #endif
 697              		.loc 1 230 17 view .LVU159
 698 007a 2388     		ldrh	r3, [r4]
 699 007c 1843     		orrs	r0, r0, r3
 700 007e 2080     		strh	r0, [r4]	@ movhi
 701 0080 D3E7     		b	.L44
 702              	.LVL70:
 703              	.L46:
 704              	.LBB10:
 705              	.LBB8:
 249:Inc/rfm69.h   ****             uint8_t v = rfm69_readReg(REG_FIFO);
 706              		.loc 1 249 38 discriminator 2 view .LVU160
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 18


 707 0082 0134     		adds	r4, r4, #1
 708              	.LVL71:
 709              	.L45:
 249:Inc/rfm69.h   ****             uint8_t v = rfm69_readReg(REG_FIFO);
 710              		.loc 1 249 11 discriminator 1 view .LVU161
 711 0084 AC42     		cmp	r4, r5
 712 0086 06DA     		bge	.L53
 713              	.LBB7:
 250:Inc/rfm69.h   ****             if (i < len)
 714              		.loc 1 250 13 is_stmt 1 view .LVU162
 250:Inc/rfm69.h   ****             if (i < len)
 715              		.loc 1 250 25 is_stmt 0 view .LVU163
 716 0088 0020     		movs	r0, #0
 717 008a FFF7FEFF 		bl	rfm69_readReg
 718              	.LVL72:
 251:Inc/rfm69.h   ****               ((uint8_t *)ptr)[i] = v;
 719              		.loc 1 251 13 is_stmt 1 view .LVU164
 251:Inc/rfm69.h   ****               ((uint8_t *)ptr)[i] = v;
 720              		.loc 1 251 16 is_stmt 0 view .LVU165
 721 008e B442     		cmp	r4, r6
 722 0090 F7DA     		bge	.L46
 252:Inc/rfm69.h   ****           }
 723              		.loc 1 252 15 is_stmt 1 view .LVU166
 252:Inc/rfm69.h   ****           }
 724              		.loc 1 252 35 is_stmt 0 view .LVU167
 725 0092 3855     		strb	r0, [r7, r4]
 726 0094 F5E7     		b	.L46
 727              	.LVL73:
 728              	.L53:
 252:Inc/rfm69.h   ****           }
 729              		.loc 1 252 35 view .LVU168
 730              	.LBE7:
 731              	.LBE8:
 258:Inc/rfm69.h   ****           if ((dest & 0xC0) == parity) {
 732              		.loc 1 258 11 is_stmt 1 view .LVU169
 258:Inc/rfm69.h   ****           if ((dest & 0xC0) == parity) {
 733              		.loc 1 258 19 is_stmt 0 view .LVU170
 734 0096 3B78     		ldrb	r3, [r7]	@ zero_extendqisi2
 735              	.LVL74:
 259:Inc/rfm69.h   ****             uint8_t destId = dest & 0x3F;
 736              		.loc 1 259 11 is_stmt 1 view .LVU171
 259:Inc/rfm69.h   ****             uint8_t destId = dest & 0x3F;
 737              		.loc 1 259 29 is_stmt 0 view .LVU172
 738 0098 114A     		ldr	r2, .L55+20
 739 009a 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 259:Inc/rfm69.h   ****             uint8_t destId = dest & 0x3F;
 740              		.loc 1 259 14 view .LVU173
 741 009c 03F0C002 		and	r2, r3, #192
 742 00a0 9142     		cmp	r1, r2
 743 00a2 10D1     		bne	.L49
 744              	.LBB9:
 260:Inc/rfm69.h   ****             if (destId == myId || destId == 0 || myId == 63)
 745              		.loc 1 260 13 is_stmt 1 view .LVU174
 260:Inc/rfm69.h   ****             if (destId == myId || destId == 0 || myId == 63)
 746              		.loc 1 260 21 is_stmt 0 view .LVU175
 747 00a4 03F03F03 		and	r3, r3, #63
 748              	.LVL75:
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 19


 261:Inc/rfm69.h   ****               return count;
 749              		.loc 1 261 13 is_stmt 1 view .LVU176
 261:Inc/rfm69.h   ****               return count;
 750              		.loc 1 261 24 is_stmt 0 view .LVU177
 751 00a8 0E4A     		ldr	r2, .L55+24
 752 00aa 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 261:Inc/rfm69.h   ****               return count;
 753              		.loc 1 261 16 view .LVU178
 754 00ac 9A42     		cmp	r2, r3
 755 00ae 02D0     		beq	.L41
 261:Inc/rfm69.h   ****               return count;
 756              		.loc 1 261 32 discriminator 1 view .LVU179
 757 00b0 0BB1     		cbz	r3, .L41
 261:Inc/rfm69.h   ****               return count;
 758              		.loc 1 261 47 discriminator 2 view .LVU180
 759 00b2 3F2A     		cmp	r2, #63
 760 00b4 01D1     		bne	.L54
 761              	.LVL76:
 762              	.L41:
 261:Inc/rfm69.h   ****               return count;
 763              		.loc 1 261 47 discriminator 2 view .LVU181
 764              	.LBE9:
 765              	.LBE10:
 766              	.LBE11:
 267:Inc/rfm69.h   **** }
 767              		.loc 1 267 1 view .LVU182
 768 00b6 2846     		mov	r0, r5
 769 00b8 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 770              	.LVL77:
 771              	.L54:
 266:Inc/rfm69.h   **** }
 772              		.loc 1 266 14 view .LVU183
 773 00ba 4FF0FF35 		mov	r5, #-1
 774              	.LVL78:
 266:Inc/rfm69.h   **** }
 775              		.loc 1 266 14 view .LVU184
 776 00be FAE7     		b	.L41
 777              	.LVL79:
 778              	.L48:
 266:Inc/rfm69.h   **** }
 779              		.loc 1 266 14 view .LVU185
 780 00c0 4FF0FF35 		mov	r5, #-1
 781 00c4 F7E7     		b	.L41
 782              	.LVL80:
 783              	.L49:
 266:Inc/rfm69.h   **** }
 784              		.loc 1 266 14 view .LVU186
 785 00c6 4FF0FF35 		mov	r5, #-1
 786              	.LVL81:
 266:Inc/rfm69.h   **** }
 787              		.loc 1 266 14 view .LVU187
 788 00ca F4E7     		b	.L41
 789              	.L56:
 790              		.align	2
 791              	.L55:
 792 00cc 00000000 		.word	mode
 793 00d0 00000000 		.word	.LANCHOR1
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 20


 794 00d4 00000000 		.word	rssi
 795 00d8 00000000 		.word	lna
 796 00dc 00000000 		.word	afc
 797 00e0 00000000 		.word	parity
 798 00e4 00000000 		.word	myId
 799              		.cfi_endproc
 800              	.LFE136:
 802              		.section	.text.rfm69_send,"ax",%progbits
 803              		.align	1
 804              		.global	rfm69_send
 805              		.syntax unified
 806              		.thumb
 807              		.thumb_func
 808              		.fpu fpv4-sp-d16
 810              	rfm69_send:
 811              	.LVL82:
 812              	.LFB137:
 268:Inc/rfm69.h   **** 
 269:Inc/rfm69.h   **** void rfm69_send(uint8_t header, const void *ptr, int len) {
 813              		.loc 1 269 59 is_stmt 1 view -0
 814              		.cfi_startproc
 815              		@ args = 0, pretend = 0, frame = 0
 816              		@ frame_needed = 0, uses_anonymous_args = 0
 817              		.loc 1 269 59 is_stmt 0 view .LVU189
 818 0000 70B5     		push	{r4, r5, r6, lr}
 819              	.LCFI11:
 820              		.cfi_def_cfa_offset 16
 821              		.cfi_offset 4, -16
 822              		.cfi_offset 5, -12
 823              		.cfi_offset 6, -8
 824              		.cfi_offset 14, -4
 825 0002 0446     		mov	r4, r0
 826 0004 0E46     		mov	r6, r1
 827 0006 1546     		mov	r5, r2
 270:Inc/rfm69.h   ****   rfm69_setMode(MODE_SLEEP);
 828              		.loc 1 270 3 is_stmt 1 view .LVU190
 829 0008 0020     		movs	r0, #0
 830              	.LVL83:
 831              		.loc 1 270 3 is_stmt 0 view .LVU191
 832 000a FFF7FEFF 		bl	rfm69_setMode
 833              	.LVL84:
 271:Inc/rfm69.h   **** 
 272:Inc/rfm69.h   **** #if RF69_SPI_BULK
 273:Inc/rfm69.h   ****   spi.enable();
 274:Inc/rfm69.h   ****   spi.transfer(REG_FIFO | 0x80);
 275:Inc/rfm69.h   ****   spi.transfer(len + 2);
 276:Inc/rfm69.h   ****   spi.transfer((header & 0x3F) | parity);
 277:Inc/rfm69.h   ****   spi.transfer((header & 0xC0) | myId);
 278:Inc/rfm69.h   ****   for (int i = 0; i < len; ++i)
 279:Inc/rfm69.h   ****     spi.transfer(((const uint8_t *)ptr)[i]);
 280:Inc/rfm69.h   ****   spi.disable();
 281:Inc/rfm69.h   **** #else
 282:Inc/rfm69.h   ****   rfm69_writeReg(REG_FIFO, len + 2);
 834              		.loc 1 282 3 is_stmt 1 view .LVU192
 835 000e A91C     		adds	r1, r5, #2
 836 0010 C9B2     		uxtb	r1, r1
 837 0012 0020     		movs	r0, #0
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 21


 838 0014 FFF7FEFF 		bl	rfm69_writeReg
 839              	.LVL85:
 283:Inc/rfm69.h   ****   rfm69_writeReg(REG_FIFO, (header & 0x3F) | parity);
 840              		.loc 1 283 3 view .LVU193
 841              		.loc 1 283 36 is_stmt 0 view .LVU194
 842 0018 64B2     		sxtb	r4, r4
 843 001a 04F03F01 		and	r1, r4, #63
 844              		.loc 1 283 44 view .LVU195
 845 001e 134B     		ldr	r3, .L64
 846 0020 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 847              		.loc 1 283 3 view .LVU196
 848 0022 1943     		orrs	r1, r1, r3
 849 0024 0020     		movs	r0, #0
 850 0026 FFF7FEFF 		bl	rfm69_writeReg
 851              	.LVL86:
 284:Inc/rfm69.h   ****   rfm69_writeReg(REG_FIFO, (header & 0xC0) | myId);
 852              		.loc 1 284 3 is_stmt 1 view .LVU197
 853              		.loc 1 284 36 is_stmt 0 view .LVU198
 854 002a 24F03F04 		bic	r4, r4, #63
 855              		.loc 1 284 44 view .LVU199
 856 002e 104B     		ldr	r3, .L64+4
 857 0030 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 858 0032 2143     		orrs	r1, r1, r4
 859              		.loc 1 284 3 view .LVU200
 860 0034 C9B2     		uxtb	r1, r1
 861 0036 0020     		movs	r0, #0
 862 0038 FFF7FEFF 		bl	rfm69_writeReg
 863              	.LVL87:
 285:Inc/rfm69.h   ****   for (int i = 0; i < len; ++i)
 864              		.loc 1 285 3 is_stmt 1 view .LVU201
 865              	.LBB12:
 866              		.loc 1 285 8 view .LVU202
 867              		.loc 1 285 12 is_stmt 0 view .LVU203
 868 003c 0024     		movs	r4, #0
 869              	.LVL88:
 870              	.L58:
 871              		.loc 1 285 3 discriminator 1 view .LVU204
 872 003e AC42     		cmp	r4, r5
 873 0040 05DA     		bge	.L63
 286:Inc/rfm69.h   ****     rfm69_writeReg(REG_FIFO, ((const uint8_t *)ptr)[i]);
 874              		.loc 1 286 5 is_stmt 1 discriminator 3 view .LVU205
 875 0042 315D     		ldrb	r1, [r6, r4]	@ zero_extendqisi2
 876 0044 0020     		movs	r0, #0
 877 0046 FFF7FEFF 		bl	rfm69_writeReg
 878              	.LVL89:
 285:Inc/rfm69.h   ****   for (int i = 0; i < len; ++i)
 879              		.loc 1 285 28 is_stmt 0 discriminator 3 view .LVU206
 880 004a 0134     		adds	r4, r4, #1
 881              	.LVL90:
 285:Inc/rfm69.h   ****   for (int i = 0; i < len; ++i)
 882              		.loc 1 285 28 discriminator 3 view .LVU207
 883 004c F7E7     		b	.L58
 884              	.L63:
 285:Inc/rfm69.h   ****   for (int i = 0; i < len; ++i)
 885              		.loc 1 285 28 discriminator 3 view .LVU208
 886              	.LBE12:
 287:Inc/rfm69.h   **** #endif
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 22


 288:Inc/rfm69.h   **** 
 289:Inc/rfm69.h   ****   rfm69_setMode(MODE_TRANSMIT);
 887              		.loc 1 289 3 is_stmt 1 view .LVU209
 888 004e 0C20     		movs	r0, #12
 889 0050 FFF7FEFF 		bl	rfm69_setMode
 890              	.LVL91:
 290:Inc/rfm69.h   ****   while ((rfm69_readReg(REG_IRQFLAGS2) & IRQ2_PACKETSENT) == 0)
 891              		.loc 1 290 3 view .LVU210
 892              		.loc 1 290 9 is_stmt 0 view .LVU211
 893 0054 02E0     		b	.L60
 894              	.L61:
 291:Inc/rfm69.h   **** 
 292:Inc/rfm69.h   **** 
 293:Inc/rfm69.h   ****   rfm69_setMode(MODE_STANDBY);
 895              		.loc 1 293 3 is_stmt 1 view .LVU212
 896 0056 0420     		movs	r0, #4
 897 0058 FFF7FEFF 		bl	rfm69_setMode
 898              	.LVL92:
 899              	.L60:
 290:Inc/rfm69.h   ****   while ((rfm69_readReg(REG_IRQFLAGS2) & IRQ2_PACKETSENT) == 0)
 900              		.loc 1 290 11 is_stmt 0 view .LVU213
 901 005c 2820     		movs	r0, #40
 902 005e FFF7FEFF 		bl	rfm69_readReg
 903              	.LVL93:
 290:Inc/rfm69.h   ****   while ((rfm69_readReg(REG_IRQFLAGS2) & IRQ2_PACKETSENT) == 0)
 904              		.loc 1 290 9 view .LVU214
 905 0062 10F0080F 		tst	r0, #8
 906 0066 F6D0     		beq	.L61
 294:Inc/rfm69.h   **** }
 907              		.loc 1 294 1 view .LVU215
 908 0068 70BD     		pop	{r4, r5, r6, pc}
 909              	.LVL94:
 910              	.L65:
 911              		.loc 1 294 1 view .LVU216
 912 006a 00BF     		.align	2
 913              	.L64:
 914 006c 00000000 		.word	parity
 915 0070 00000000 		.word	myId
 916              		.cfi_endproc
 917              	.LFE137:
 919              		.section	.text.radio_setup,"ax",%progbits
 920              		.align	1
 921              		.global	radio_setup
 922              		.syntax unified
 923              		.thumb
 924              		.thumb_func
 925              		.fpu fpv4-sp-d16
 927              	radio_setup:
 928              	.LFB138:
 929              		.file 2 "Src/main.c"
   1:Src/main.c    **** 
   2:Src/main.c    **** /**
   3:Src/main.c    ****   ******************************************************************************
   4:Src/main.c    ****   * @file           : main.c
   5:Src/main.c    ****   * @brief          : Main program body
   6:Src/main.c    ****   ******************************************************************************
   7:Src/main.c    ****   ** This notice applies to any and all portions of this file
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 23


   8:Src/main.c    ****   * that are not between comment pairs USER CODE BEGIN and
   9:Src/main.c    ****   * USER CODE END. Other portions of this file, whether
  10:Src/main.c    ****   * inserted by the user or by software development tools
  11:Src/main.c    ****   * are owned by their respective copyright owners.
  12:Src/main.c    ****   *
  13:Src/main.c    ****   * COPYRIGHT(c) 2019 STMicroelectronics
  14:Src/main.c    ****   *
  15:Src/main.c    ****   * Redistribution and use in source and binary forms, with or without modification,
  16:Src/main.c    ****   * are permitted provided that the following conditions are met:
  17:Src/main.c    ****   *   1. Redistributions of source code must retain the above copyright notice,
  18:Src/main.c    ****   *      this list of conditions and the following disclaimer.
  19:Src/main.c    ****   *   2. Redistributions in binary form must reproduce the above copyright notice,
  20:Src/main.c    ****   *      this list of conditions and the following disclaimer in the documentation
  21:Src/main.c    ****   *      and/or other materials provided with the distribution.
  22:Src/main.c    ****   *   3. Neither the name of STMicroelectronics nor the names of its contributors
  23:Src/main.c    ****   *      may be used to endorse or promote products derived from this software
  24:Src/main.c    ****   *      without specific prior written permission.
  25:Src/main.c    ****   *
  26:Src/main.c    ****   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  27:Src/main.c    ****   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  28:Src/main.c    ****   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  29:Src/main.c    ****   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  30:Src/main.c    ****   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  31:Src/main.c    ****   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  32:Src/main.c    ****   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  33:Src/main.c    ****   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  34:Src/main.c    ****   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  35:Src/main.c    ****   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  36:Src/main.c    ****   *
  37:Src/main.c    ****   ******************************************************************************
  38:Src/main.c    ****   */
  39:Src/main.c    **** /* Includes ------------------------------------------------------------------*/
  40:Src/main.c    **** #include "main.h"
  41:Src/main.c    **** #include "stm32f3xx_hal.h"
  42:Src/main.c    **** #include "spi.h"
  43:Src/main.c    **** #include "usart.h"
  44:Src/main.c    **** #include "gpio.h"
  45:Src/main.c    **** 
  46:Src/main.c    **** /* USER CODE BEGIN Includes */
  47:Src/main.c    **** #include <stdio.h>
  48:Src/main.c    **** #include <stdbool.h>
  49:Src/main.c    **** #include "spi.h"
  50:Src/main.c    **** #include "rfm69.h"
  51:Src/main.c    **** 
  52:Src/main.c    **** /* USER CODE END Includes */
  53:Src/main.c    **** 
  54:Src/main.c    **** /* Private variables ---------------------------------------------------------*/
  55:Src/main.c    **** 
  56:Src/main.c    **** /* USER CODE BEGIN PV */
  57:Src/main.c    **** /* Private variables ---------------------------------------------------------*/
  58:Src/main.c    **** 
  59:Src/main.c    **** 
  60:Src/main.c    **** 
  61:Src/main.c    **** // defined in main.cpp
  62:Src/main.c    **** 
  63:Src/main.c    **** 
  64:Src/main.c    **** uint8_t rxBuf[64];
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 24


  65:Src/main.c    **** uint8_t txBuf[62];
  66:Src/main.c    **** uint16_t txCnt = 0;
  67:Src/main.c    **** 
  68:Src/main.c    **** const int rf_freq = 433;
  69:Src/main.c    **** const int rf_group = 210;
  70:Src/main.c    **** const int rf_nodeid = 2;
  71:Src/main.c    **** 
  72:Src/main.c    **** const bool verbose = true;
  73:Src/main.c    **** 
  74:Src/main.c    **** 
  75:Src/main.c    **** /* USER CODE END PV */
  76:Src/main.c    **** 
  77:Src/main.c    **** /* Private function prototypes -----------------------------------------------*/
  78:Src/main.c    **** void SystemClock_Config(void);
  79:Src/main.c    **** 
  80:Src/main.c    **** /* USER CODE BEGIN PFP */
  81:Src/main.c    **** /* Private function prototypes -----------------------------------------------*/
  82:Src/main.c    **** void radio_setup(void);
  83:Src/main.c    **** void radio_loop(void);
  84:Src/main.c    **** /* USER CODE END PFP */
  85:Src/main.c    **** 
  86:Src/main.c    **** /* USER CODE BEGIN 0 */
  87:Src/main.c    **** void radio_setup() {
 930              		.loc 2 87 20 is_stmt 1 view -0
 931              		.cfi_startproc
 932              		@ args = 0, pretend = 0, frame = 0
 933              		@ frame_needed = 0, uses_anonymous_args = 0
 934 0000 08B5     		push	{r3, lr}
 935              	.LCFI12:
 936              		.cfi_def_cfa_offset 8
 937              		.cfi_offset 3, -8
 938              		.cfi_offset 14, -4
  88:Src/main.c    **** 
  89:Src/main.c    ****     printf("\n[radio]\n");
 939              		.loc 2 89 5 view .LVU218
 940 0002 0F48     		ldr	r0, .L70
 941 0004 FFF7FEFF 		bl	puts
 942              	.LVL95:
  90:Src/main.c    **** 
  91:Src/main.c    ****     rfm69_init(rf_nodeid, rf_group, rf_freq);
 943              		.loc 2 91 5 view .LVU219
 944 0008 40F2B112 		movw	r2, #433
 945 000c D221     		movs	r1, #210
 946 000e 0220     		movs	r0, #2
 947 0010 FFF7FEFF 		bl	rfm69_init
 948              	.LVL96:
  92:Src/main.c    ****     //rfm69_encrypt(0);
  93:Src/main.c    ****     rfm69_txPower(16); // 0 = min .. 31 = max
 949              		.loc 2 93 5 view .LVU220
 950 0014 1020     		movs	r0, #16
 951 0016 FFF7FEFF 		bl	rfm69_txPower
 952              	.LVL97:
  94:Src/main.c    **** 
  95:Src/main.c    ****     for (int i = 0; i < (int) sizeof txBuf; ++i)
 953              		.loc 2 95 5 view .LVU221
 954              	.LBB13:
 955              		.loc 2 95 10 view .LVU222
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 25


 956              		.loc 2 95 14 is_stmt 0 view .LVU223
 957 001a 0023     		movs	r3, #0
 958              		.loc 2 95 5 view .LVU224
 959 001c 02E0     		b	.L67
 960              	.LVL98:
 961              	.L68:
  96:Src/main.c    ****         txBuf[i] = i;
 962              		.loc 2 96 9 is_stmt 1 discriminator 3 view .LVU225
 963              		.loc 2 96 18 is_stmt 0 discriminator 3 view .LVU226
 964 001e 094A     		ldr	r2, .L70+4
 965 0020 D354     		strb	r3, [r2, r3]
  95:Src/main.c    ****         txBuf[i] = i;
 966              		.loc 2 95 45 discriminator 3 view .LVU227
 967 0022 0133     		adds	r3, r3, #1
 968              	.LVL99:
 969              	.L67:
  95:Src/main.c    ****         txBuf[i] = i;
 970              		.loc 2 95 5 discriminator 1 view .LVU228
 971 0024 3D2B     		cmp	r3, #61
 972 0026 FADD     		ble	.L68
 973              	.LBE13:
  97:Src/main.c    **** 
  98:Src/main.c    ****     printf("  Enter 't' to broadcast a test packet as node %d.\n", rf_nodeid);
 974              		.loc 2 98 5 is_stmt 1 view .LVU229
 975 0028 0221     		movs	r1, #2
 976 002a 0748     		ldr	r0, .L70+8
 977 002c FFF7FEFF 		bl	printf
 978              	.LVL100:
  99:Src/main.c    ****     printf("  Listening for packets on %dMHz, group %d ...\n\n", rf_freq, rf_group);
 979              		.loc 2 99 5 view .LVU230
 980 0030 D222     		movs	r2, #210
 981 0032 40F2B111 		movw	r1, #433
 982 0036 0548     		ldr	r0, .L70+12
 983 0038 FFF7FEFF 		bl	printf
 984              	.LVL101:
 100:Src/main.c    ****     //return true;
 101:Src/main.c    **** }
 985              		.loc 2 101 1 is_stmt 0 view .LVU231
 986 003c 08BD     		pop	{r3, pc}
 987              	.L71:
 988 003e 00BF     		.align	2
 989              	.L70:
 990 0040 00000000 		.word	.LC0
 991 0044 00000000 		.word	txBuf
 992 0048 0C000000 		.word	.LC1
 993 004c 40000000 		.word	.LC2
 994              		.cfi_endproc
 995              	.LFE138:
 997              		.global	__aeabi_i2d
 998              		.global	__aeabi_dmul
 999              		.section	.text.radio_loop,"ax",%progbits
 1000              		.align	1
 1001              		.global	radio_loop
 1002              		.syntax unified
 1003              		.thumb
 1004              		.thumb_func
 1005              		.fpu fpv4-sp-d16
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 26


 1007              	radio_loop:
 1008              	.LFB139:
 102:Src/main.c    **** 
 103:Src/main.c    **** extern int16_t afc;
 104:Src/main.c    **** extern uint8_t rssi;
 105:Src/main.c    **** extern uint8_t lna;
 106:Src/main.c    **** void radio_loop() {
 1009              		.loc 2 106 19 is_stmt 1 view -0
 1010              		.cfi_startproc
 1011              		@ args = 0, pretend = 0, frame = 0
 1012              		@ frame_needed = 0, uses_anonymous_args = 0
 1013 0000 30B5     		push	{r4, r5, lr}
 1014              	.LCFI13:
 1015              		.cfi_def_cfa_offset 12
 1016              		.cfi_offset 4, -12
 1017              		.cfi_offset 5, -8
 1018              		.cfi_offset 14, -4
 1019 0002 87B0     		sub	sp, sp, #28
 1020              	.LCFI14:
 1021              		.cfi_def_cfa_offset 40
 107:Src/main.c    ****     /*
 108:Src/main.c    ****     if (serial_getc() == 't') {
 109:Src/main.c    ****         printf("  Broadcasting %d-byte test packet\n", txCnt);
 110:Src/main.c    ****         rf.send(0, txBuf, txCnt);
 111:Src/main.c    ****         txCnt = (txCnt + 1) % sizeof txBuf;
 112:Src/main.c    ****     }
 113:Src/main.c    ****     */
 114:Src/main.c    **** //printf("loopy");
 115:Src/main.c    ****     int len = rfm69_receive(rxBuf, sizeof(rxBuf));
 1022              		.loc 2 115 5 view .LVU233
 1023              		.loc 2 115 15 is_stmt 0 view .LVU234
 1024 0004 4021     		movs	r1, #64
 1025 0006 2248     		ldr	r0, .L82
 1026 0008 FFF7FEFF 		bl	rfm69_receive
 1027              	.LVL102:
 116:Src/main.c    ****     if (len >= 0) {
 1028              		.loc 2 116 5 is_stmt 1 view .LVU235
 1029              		.loc 2 116 8 is_stmt 0 view .LVU236
 1030 000c 051E     		subs	r5, r0, #0
 1031 000e 01DA     		bge	.L79
 1032              	.LVL103:
 1033              	.L72:
 117:Src/main.c    ****         printf("rf69 %04x%02x%02x%02x%04x%02x%02x%02x ",
 118:Src/main.c    ****                 rf_freq, rf_group, rssi, lna, afc,
 119:Src/main.c    ****                 rxBuf[0], rxBuf[1], len - 2);
 120:Src/main.c    ****         for (int i = 2; i < len; ++i)
 121:Src/main.c    ****             printf("%02x", rxBuf[i]);
 122:Src/main.c    ****         const char* sep = afc < 0 ? "" : "+";
 123:Src/main.c    ****         if (verbose)
 124:Src/main.c    ****             printf("  (%g%s%d:%d)", rssi * 0.5, sep, afc, lna);
 125:Src/main.c    ****         putchar('\n');
 126:Src/main.c    ****     }
 127:Src/main.c    **** }
 1034              		.loc 2 127 1 view .LVU237
 1035 0010 07B0     		add	sp, sp, #28
 1036              	.LCFI15:
 1037              		.cfi_remember_state
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 27


 1038              		.cfi_def_cfa_offset 12
 1039              		@ sp needed
 1040 0012 30BD     		pop	{r4, r5, pc}
 1041              	.LVL104:
 1042              	.L79:
 1043              	.LCFI16:
 1044              		.cfi_restore_state
 1045              	.LBB14:
 117:Src/main.c    ****         printf("rf69 %04x%02x%02x%02x%04x%02x%02x%02x ",
 1046              		.loc 2 117 9 is_stmt 1 view .LVU238
 119:Src/main.c    ****         for (int i = 2; i < len; ++i)
 1047              		.loc 2 119 22 is_stmt 0 view .LVU239
 1048 0014 1E4B     		ldr	r3, .L82
 1049 0016 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 119:Src/main.c    ****         for (int i = 2; i < len; ++i)
 1050              		.loc 2 119 32 view .LVU240
 1051 0018 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 117:Src/main.c    ****         printf("rf69 %04x%02x%02x%02x%04x%02x%02x%02x ",
 1052              		.loc 2 117 9 view .LVU241
 1053 001a A91E     		subs	r1, r5, #2
 1054 001c 0491     		str	r1, [sp, #16]
 1055 001e 0393     		str	r3, [sp, #12]
 1056 0020 0292     		str	r2, [sp, #8]
 1057 0022 1C4B     		ldr	r3, .L82+4
 1058 0024 B3F90030 		ldrsh	r3, [r3]
 1059 0028 0193     		str	r3, [sp, #4]
 1060 002a 1B4B     		ldr	r3, .L82+8
 1061 002c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1062 002e 0093     		str	r3, [sp]
 1063 0030 1A4B     		ldr	r3, .L82+12
 1064 0032 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1065 0034 D222     		movs	r2, #210
 1066 0036 40F2B111 		movw	r1, #433
 1067 003a 1948     		ldr	r0, .L82+16
 1068              	.LVL105:
 117:Src/main.c    ****         printf("rf69 %04x%02x%02x%02x%04x%02x%02x%02x ",
 1069              		.loc 2 117 9 view .LVU242
 1070 003c FFF7FEFF 		bl	printf
 1071              	.LVL106:
 120:Src/main.c    ****             printf("%02x", rxBuf[i]);
 1072              		.loc 2 120 9 is_stmt 1 view .LVU243
 1073              	.LBB15:
 120:Src/main.c    ****             printf("%02x", rxBuf[i]);
 1074              		.loc 2 120 14 view .LVU244
 120:Src/main.c    ****             printf("%02x", rxBuf[i]);
 1075              		.loc 2 120 18 is_stmt 0 view .LVU245
 1076 0040 0224     		movs	r4, #2
 1077              	.LVL107:
 1078              	.L74:
 120:Src/main.c    ****             printf("%02x", rxBuf[i]);
 1079              		.loc 2 120 9 discriminator 1 view .LVU246
 1080 0042 AC42     		cmp	r4, r5
 1081 0044 06DA     		bge	.L80
 121:Src/main.c    ****         const char* sep = afc < 0 ? "" : "+";
 1082              		.loc 2 121 13 is_stmt 1 discriminator 3 view .LVU247
 1083 0046 124B     		ldr	r3, .L82
 1084 0048 195D     		ldrb	r1, [r3, r4]	@ zero_extendqisi2
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 28


 1085 004a 1648     		ldr	r0, .L82+20
 1086 004c FFF7FEFF 		bl	printf
 1087              	.LVL108:
 120:Src/main.c    ****             printf("%02x", rxBuf[i]);
 1088              		.loc 2 120 34 is_stmt 0 discriminator 3 view .LVU248
 1089 0050 0134     		adds	r4, r4, #1
 1090              	.LVL109:
 120:Src/main.c    ****             printf("%02x", rxBuf[i]);
 1091              		.loc 2 120 34 discriminator 3 view .LVU249
 1092 0052 F6E7     		b	.L74
 1093              	.L80:
 120:Src/main.c    ****             printf("%02x", rxBuf[i]);
 1094              		.loc 2 120 34 discriminator 3 view .LVU250
 1095              	.LBE15:
 122:Src/main.c    ****         if (verbose)
 1096              		.loc 2 122 9 is_stmt 1 view .LVU251
 122:Src/main.c    ****         if (verbose)
 1097              		.loc 2 122 31 is_stmt 0 view .LVU252
 1098 0054 0F4B     		ldr	r3, .L82+4
 1099 0056 B3F90040 		ldrsh	r4, [r3]
 1100              	.LVL110:
 122:Src/main.c    ****         if (verbose)
 1101              		.loc 2 122 40 view .LVU253
 1102 005a 002C     		cmp	r4, #0
 1103 005c 16DB     		blt	.L81
 1104 005e 124D     		ldr	r5, .L82+24
 1105              	.LVL111:
 1106              	.L76:
 123:Src/main.c    ****             printf("  (%g%s%d:%d)", rssi * 0.5, sep, afc, lna);
 1107              		.loc 2 123 9 is_stmt 1 discriminator 4 view .LVU254
 124:Src/main.c    ****         putchar('\n');
 1108              		.loc 2 124 13 discriminator 4 view .LVU255
 1109 0060 0E4B     		ldr	r3, .L82+12
 1110 0062 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 1111 0064 FFF7FEFF 		bl	__aeabi_i2d
 1112              	.LVL112:
 1113 0068 0022     		movs	r2, #0
 1114 006a 104B     		ldr	r3, .L82+28
 1115 006c FFF7FEFF 		bl	__aeabi_dmul
 1116              	.LVL113:
 1117 0070 094B     		ldr	r3, .L82+8
 1118 0072 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1119 0074 0293     		str	r3, [sp, #8]
 1120 0076 0194     		str	r4, [sp, #4]
 1121 0078 0095     		str	r5, [sp]
 1122 007a 0246     		mov	r2, r0
 1123 007c 0B46     		mov	r3, r1
 1124 007e 0C48     		ldr	r0, .L82+32
 1125 0080 FFF7FEFF 		bl	printf
 1126              	.LVL114:
 125:Src/main.c    ****     }
 1127              		.loc 2 125 9 discriminator 4 view .LVU256
 1128 0084 0A20     		movs	r0, #10
 1129 0086 FFF7FEFF 		bl	putchar
 1130              	.LVL115:
 1131              	.LBE14:
 1132              		.loc 2 127 1 is_stmt 0 discriminator 4 view .LVU257
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 29


 1133 008a C1E7     		b	.L72
 1134              	.LVL116:
 1135              	.L81:
 1136              	.LBB16:
 122:Src/main.c    ****         if (verbose)
 1137              		.loc 2 122 40 view .LVU258
 1138 008c 094D     		ldr	r5, .L82+36
 1139              	.LVL117:
 122:Src/main.c    ****         if (verbose)
 1140              		.loc 2 122 40 view .LVU259
 1141 008e E7E7     		b	.L76
 1142              	.L83:
 1143              		.align	2
 1144              	.L82:
 1145 0090 00000000 		.word	rxBuf
 1146 0094 00000000 		.word	afc
 1147 0098 00000000 		.word	lna
 1148 009c 00000000 		.word	rssi
 1149 00a0 08000000 		.word	.LC5
 1150 00a4 30000000 		.word	.LC6
 1151 00a8 00000000 		.word	.LC3
 1152 00ac 0000E03F 		.word	1071644672
 1153 00b0 38000000 		.word	.LC7
 1154 00b4 04000000 		.word	.LC4
 1155              	.LBE16:
 1156              		.cfi_endproc
 1157              	.LFE139:
 1159              		.section	.text._Error_Handler,"ax",%progbits
 1160              		.align	1
 1161              		.global	_Error_Handler
 1162              		.syntax unified
 1163              		.thumb
 1164              		.thumb_func
 1165              		.fpu fpv4-sp-d16
 1167              	_Error_Handler:
 1168              	.LFB142:
 128:Src/main.c    **** 
 129:Src/main.c    **** /* USER CODE END 0 */
 130:Src/main.c    **** 
 131:Src/main.c    **** /**
 132:Src/main.c    ****   * @brief  The application entry point.
 133:Src/main.c    ****   *
 134:Src/main.c    ****   * @retval None
 135:Src/main.c    ****   */
 136:Src/main.c    **** int main(void)
 137:Src/main.c    **** {
 138:Src/main.c    ****   /* USER CODE BEGIN 1 */
 139:Src/main.c    **** 
 140:Src/main.c    ****   /* USER CODE END 1 */
 141:Src/main.c    **** 
 142:Src/main.c    ****   /* MCU Configuration----------------------------------------------------------*/
 143:Src/main.c    **** 
 144:Src/main.c    ****   /* Reset of all peripherals, Initializes the Flash interface and the Systick. */
 145:Src/main.c    ****   HAL_Init();
 146:Src/main.c    **** 
 147:Src/main.c    ****   /* USER CODE BEGIN Init */
 148:Src/main.c    **** 
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 30


 149:Src/main.c    ****   /* USER CODE END Init */
 150:Src/main.c    **** 
 151:Src/main.c    ****   /* Configure the system clock */
 152:Src/main.c    ****   SystemClock_Config();
 153:Src/main.c    **** 
 154:Src/main.c    ****   /* USER CODE BEGIN SysInit */
 155:Src/main.c    **** 
 156:Src/main.c    ****   /* USER CODE END SysInit */
 157:Src/main.c    **** 
 158:Src/main.c    ****   /* Initialize all configured peripherals */
 159:Src/main.c    ****   MX_GPIO_Init();
 160:Src/main.c    ****   MX_USART2_UART_Init();
 161:Src/main.c    ****   MX_SPI2_Init();
 162:Src/main.c    ****   /* USER CODE BEGIN 2 */
 163:Src/main.c    **** 
 164:Src/main.c    ****   radio_setup();
 165:Src/main.c    **** 
 166:Src/main.c    ****   /* USER CODE END 2 */
 167:Src/main.c    **** 
 168:Src/main.c    ****   /* Infinite loop */
 169:Src/main.c    ****   /* USER CODE BEGIN WHILE */
 170:Src/main.c    ****   while (1)
 171:Src/main.c    ****   {
 172:Src/main.c    **** 
 173:Src/main.c    ****     radio_loop();
 174:Src/main.c    **** 
 175:Src/main.c    ****   /* USER CODE END WHILE */
 176:Src/main.c    **** 
 177:Src/main.c    ****   /* USER CODE BEGIN 3 */
 178:Src/main.c    **** 
 179:Src/main.c    ****   }
 180:Src/main.c    ****   /* USER CODE END 3 */
 181:Src/main.c    **** 
 182:Src/main.c    **** }
 183:Src/main.c    **** 
 184:Src/main.c    **** /**
 185:Src/main.c    ****   * @brief System Clock Configuration
 186:Src/main.c    ****   * @retval None
 187:Src/main.c    ****   */
 188:Src/main.c    **** void SystemClock_Config(void)
 189:Src/main.c    **** {
 190:Src/main.c    **** 
 191:Src/main.c    ****   RCC_OscInitTypeDef RCC_OscInitStruct;
 192:Src/main.c    ****   RCC_ClkInitTypeDef RCC_ClkInitStruct;
 193:Src/main.c    ****   RCC_PeriphCLKInitTypeDef PeriphClkInit;
 194:Src/main.c    **** 
 195:Src/main.c    ****     /**Initializes the CPU, AHB and APB busses clocks
 196:Src/main.c    ****     */
 197:Src/main.c    ****   RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSI;
 198:Src/main.c    ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 199:Src/main.c    ****   RCC_OscInitStruct.HSICalibrationValue = 16;
 200:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_NONE;
 201:Src/main.c    ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 202:Src/main.c    ****   {
 203:Src/main.c    ****     _Error_Handler(__FILE__, __LINE__);
 204:Src/main.c    ****   }
 205:Src/main.c    **** 
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 31


 206:Src/main.c    ****     /**Initializes the CPU, AHB and APB busses clocks
 207:Src/main.c    ****     */
 208:Src/main.c    ****   RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK|RCC_CLOCKTYPE_SYSCLK
 209:Src/main.c    ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 210:Src/main.c    ****   RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_HSI;
 211:Src/main.c    ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 212:Src/main.c    ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
 213:Src/main.c    ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 214:Src/main.c    **** 
 215:Src/main.c    ****   if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_0) != HAL_OK)
 216:Src/main.c    ****   {
 217:Src/main.c    ****     _Error_Handler(__FILE__, __LINE__);
 218:Src/main.c    ****   }
 219:Src/main.c    **** 
 220:Src/main.c    ****   PeriphClkInit.PeriphClockSelection = RCC_PERIPHCLK_USART2;
 221:Src/main.c    ****   PeriphClkInit.Usart2ClockSelection = RCC_USART2CLKSOURCE_PCLK1;
 222:Src/main.c    ****   if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK)
 223:Src/main.c    ****   {
 224:Src/main.c    ****     _Error_Handler(__FILE__, __LINE__);
 225:Src/main.c    ****   }
 226:Src/main.c    **** 
 227:Src/main.c    ****     /**Configure the Systick interrupt time
 228:Src/main.c    ****     */
 229:Src/main.c    ****   HAL_SYSTICK_Config(HAL_RCC_GetHCLKFreq()/1000);
 230:Src/main.c    **** 
 231:Src/main.c    ****     /**Configure the Systick
 232:Src/main.c    ****     */
 233:Src/main.c    ****   HAL_SYSTICK_CLKSourceConfig(SYSTICK_CLKSOURCE_HCLK);
 234:Src/main.c    **** 
 235:Src/main.c    ****   /* SysTick_IRQn interrupt configuration */
 236:Src/main.c    ****   HAL_NVIC_SetPriority(SysTick_IRQn, 0, 0);
 237:Src/main.c    **** }
 238:Src/main.c    **** 
 239:Src/main.c    **** /* USER CODE BEGIN 4 */
 240:Src/main.c    **** 
 241:Src/main.c    **** /* USER CODE END 4 */
 242:Src/main.c    **** 
 243:Src/main.c    **** /**
 244:Src/main.c    ****   * @brief  This function is executed in case of error occurrence.
 245:Src/main.c    ****   * @param  file: The file name as string.
 246:Src/main.c    ****   * @param  line: The line in file as a number.
 247:Src/main.c    ****   * @retval None
 248:Src/main.c    ****   */
 249:Src/main.c    **** void _Error_Handler(char *file, int line)
 250:Src/main.c    **** {
 1169              		.loc 2 250 1 is_stmt 1 view -0
 1170              		.cfi_startproc
 1171              		@ Volatile: function does not return.
 1172              		@ args = 0, pretend = 0, frame = 0
 1173              		@ frame_needed = 0, uses_anonymous_args = 0
 1174              		@ link register save eliminated.
 1175              	.LVL118:
 1176              	.L85:
 251:Src/main.c    ****   /* USER CODE BEGIN Error_Handler_Debug */
 252:Src/main.c    ****   /* User can add his own implementation to report the HAL error return state */
 253:Src/main.c    ****   while(1)
 1177              		.loc 2 253 3 discriminator 1 view .LVU261
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 32


 254:Src/main.c    ****   {
 255:Src/main.c    ****   }
 1178              		.loc 2 255 3 discriminator 1 view .LVU262
 1179 0000 FEE7     		b	.L85
 1180              		.cfi_endproc
 1181              	.LFE142:
 1183              		.section	.text.SystemClock_Config,"ax",%progbits
 1184              		.align	1
 1185              		.global	SystemClock_Config
 1186              		.syntax unified
 1187              		.thumb
 1188              		.thumb_func
 1189              		.fpu fpv4-sp-d16
 1191              	SystemClock_Config:
 1192              	.LFB141:
 189:Src/main.c    **** 
 1193              		.loc 2 189 1 view -0
 1194              		.cfi_startproc
 1195              		@ args = 0, pretend = 0, frame = 152
 1196              		@ frame_needed = 0, uses_anonymous_args = 0
 1197 0000 00B5     		push	{lr}
 1198              	.LCFI17:
 1199              		.cfi_def_cfa_offset 4
 1200              		.cfi_offset 14, -4
 1201 0002 A7B0     		sub	sp, sp, #156
 1202              	.LCFI18:
 1203              		.cfi_def_cfa_offset 160
 191:Src/main.c    ****   RCC_ClkInitTypeDef RCC_ClkInitStruct;
 1204              		.loc 2 191 3 view .LVU264
 192:Src/main.c    ****   RCC_PeriphCLKInitTypeDef PeriphClkInit;
 1205              		.loc 2 192 3 view .LVU265
 193:Src/main.c    **** 
 1206              		.loc 2 193 3 view .LVU266
 197:Src/main.c    ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 1207              		.loc 2 197 3 view .LVU267
 197:Src/main.c    ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 1208              		.loc 2 197 36 is_stmt 0 view .LVU268
 1209 0004 0223     		movs	r3, #2
 1210 0006 1C93     		str	r3, [sp, #112]
 198:Src/main.c    ****   RCC_OscInitStruct.HSICalibrationValue = 16;
 1211              		.loc 2 198 3 is_stmt 1 view .LVU269
 198:Src/main.c    ****   RCC_OscInitStruct.HSICalibrationValue = 16;
 1212              		.loc 2 198 30 is_stmt 0 view .LVU270
 1213 0008 0123     		movs	r3, #1
 1214 000a 1F93     		str	r3, [sp, #124]
 199:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_NONE;
 1215              		.loc 2 199 3 is_stmt 1 view .LVU271
 199:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_NONE;
 1216              		.loc 2 199 41 is_stmt 0 view .LVU272
 1217 000c 1023     		movs	r3, #16
 1218 000e 2093     		str	r3, [sp, #128]
 200:Src/main.c    ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 1219              		.loc 2 200 3 is_stmt 1 view .LVU273
 200:Src/main.c    ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 1220              		.loc 2 200 34 is_stmt 0 view .LVU274
 1221 0010 0023     		movs	r3, #0
 1222 0012 2293     		str	r3, [sp, #136]
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 33


 201:Src/main.c    ****   {
 1223              		.loc 2 201 3 is_stmt 1 view .LVU275
 201:Src/main.c    ****   {
 1224              		.loc 2 201 7 is_stmt 0 view .LVU276
 1225 0014 1CA8     		add	r0, sp, #112
 1226 0016 FFF7FEFF 		bl	HAL_RCC_OscConfig
 1227              	.LVL119:
 201:Src/main.c    ****   {
 1228              		.loc 2 201 6 view .LVU277
 1229 001a 30BB     		cbnz	r0, .L91
 208:Src/main.c    ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 1230              		.loc 2 208 3 is_stmt 1 view .LVU278
 208:Src/main.c    ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 1231              		.loc 2 208 31 is_stmt 0 view .LVU279
 1232 001c 0F23     		movs	r3, #15
 1233 001e 1793     		str	r3, [sp, #92]
 210:Src/main.c    ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 1234              		.loc 2 210 3 is_stmt 1 view .LVU280
 210:Src/main.c    ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 1235              		.loc 2 210 34 is_stmt 0 view .LVU281
 1236 0020 0021     		movs	r1, #0
 1237 0022 1891     		str	r1, [sp, #96]
 211:Src/main.c    ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
 1238              		.loc 2 211 3 is_stmt 1 view .LVU282
 211:Src/main.c    ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
 1239              		.loc 2 211 35 is_stmt 0 view .LVU283
 1240 0024 1991     		str	r1, [sp, #100]
 212:Src/main.c    ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 1241              		.loc 2 212 3 is_stmt 1 view .LVU284
 212:Src/main.c    ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 1242              		.loc 2 212 36 is_stmt 0 view .LVU285
 1243 0026 1A91     		str	r1, [sp, #104]
 213:Src/main.c    **** 
 1244              		.loc 2 213 3 is_stmt 1 view .LVU286
 213:Src/main.c    **** 
 1245              		.loc 2 213 36 is_stmt 0 view .LVU287
 1246 0028 1B91     		str	r1, [sp, #108]
 215:Src/main.c    ****   {
 1247              		.loc 2 215 3 is_stmt 1 view .LVU288
 215:Src/main.c    ****   {
 1248              		.loc 2 215 7 is_stmt 0 view .LVU289
 1249 002a 17A8     		add	r0, sp, #92
 1250 002c FFF7FEFF 		bl	HAL_RCC_ClockConfig
 1251              	.LVL120:
 215:Src/main.c    ****   {
 1252              		.loc 2 215 6 view .LVU290
 1253 0030 F8B9     		cbnz	r0, .L92
 220:Src/main.c    ****   PeriphClkInit.Usart2ClockSelection = RCC_USART2CLKSOURCE_PCLK1;
 1254              		.loc 2 220 3 is_stmt 1 view .LVU291
 220:Src/main.c    ****   PeriphClkInit.Usart2ClockSelection = RCC_USART2CLKSOURCE_PCLK1;
 1255              		.loc 2 220 38 is_stmt 0 view .LVU292
 1256 0032 0223     		movs	r3, #2
 1257 0034 0193     		str	r3, [sp, #4]
 221:Src/main.c    ****   if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK)
 1258              		.loc 2 221 3 is_stmt 1 view .LVU293
 221:Src/main.c    ****   if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK)
 1259              		.loc 2 221 38 is_stmt 0 view .LVU294
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 34


 1260 0036 0023     		movs	r3, #0
 1261 0038 0493     		str	r3, [sp, #16]
 222:Src/main.c    ****   {
 1262              		.loc 2 222 3 is_stmt 1 view .LVU295
 222:Src/main.c    ****   {
 1263              		.loc 2 222 7 is_stmt 0 view .LVU296
 1264 003a 01A8     		add	r0, sp, #4
 1265 003c FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 1266              	.LVL121:
 222:Src/main.c    ****   {
 1267              		.loc 2 222 6 view .LVU297
 1268 0040 D8B9     		cbnz	r0, .L93
 229:Src/main.c    **** 
 1269              		.loc 2 229 3 is_stmt 1 view .LVU298
 229:Src/main.c    **** 
 1270              		.loc 2 229 22 is_stmt 0 view .LVU299
 1271 0042 FFF7FEFF 		bl	HAL_RCC_GetHCLKFreq
 1272              	.LVL122:
 229:Src/main.c    **** 
 1273              		.loc 2 229 3 view .LVU300
 1274 0046 0F4B     		ldr	r3, .L94
 1275 0048 A3FB0030 		umull	r3, r0, r3, r0
 1276 004c 8009     		lsrs	r0, r0, #6
 1277 004e FFF7FEFF 		bl	HAL_SYSTICK_Config
 1278              	.LVL123:
 233:Src/main.c    **** 
 1279              		.loc 2 233 3 is_stmt 1 view .LVU301
 1280 0052 0420     		movs	r0, #4
 1281 0054 FFF7FEFF 		bl	HAL_SYSTICK_CLKSourceConfig
 1282              	.LVL124:
 236:Src/main.c    **** }
 1283              		.loc 2 236 3 view .LVU302
 1284 0058 0022     		movs	r2, #0
 1285 005a 1146     		mov	r1, r2
 1286 005c 4FF0FF30 		mov	r0, #-1
 1287 0060 FFF7FEFF 		bl	HAL_NVIC_SetPriority
 1288              	.LVL125:
 237:Src/main.c    **** 
 1289              		.loc 2 237 1 is_stmt 0 view .LVU303
 1290 0064 27B0     		add	sp, sp, #156
 1291              	.LCFI19:
 1292              		.cfi_remember_state
 1293              		.cfi_def_cfa_offset 4
 1294              		@ sp needed
 1295 0066 5DF804FB 		ldr	pc, [sp], #4
 1296              	.L91:
 1297              	.LCFI20:
 1298              		.cfi_restore_state
 203:Src/main.c    ****   }
 1299              		.loc 2 203 5 is_stmt 1 view .LVU304
 1300 006a CB21     		movs	r1, #203
 1301 006c 0648     		ldr	r0, .L94+4
 1302 006e FFF7FEFF 		bl	_Error_Handler
 1303              	.LVL126:
 1304              	.L92:
 217:Src/main.c    ****   }
 1305              		.loc 2 217 5 view .LVU305
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 35


 1306 0072 D921     		movs	r1, #217
 1307 0074 0448     		ldr	r0, .L94+4
 1308 0076 FFF7FEFF 		bl	_Error_Handler
 1309              	.LVL127:
 1310              	.L93:
 224:Src/main.c    ****   }
 1311              		.loc 2 224 5 view .LVU306
 1312 007a E021     		movs	r1, #224
 1313 007c 0248     		ldr	r0, .L94+4
 1314 007e FFF7FEFF 		bl	_Error_Handler
 1315              	.LVL128:
 1316              	.L95:
 1317 0082 00BF     		.align	2
 1318              	.L94:
 1319 0084 D34D6210 		.word	274877907
 1320 0088 00000000 		.word	.LC8
 1321              		.cfi_endproc
 1322              	.LFE141:
 1324              		.section	.text.main,"ax",%progbits
 1325              		.align	1
 1326              		.global	main
 1327              		.syntax unified
 1328              		.thumb
 1329              		.thumb_func
 1330              		.fpu fpv4-sp-d16
 1332              	main:
 1333              	.LFB140:
 137:Src/main.c    ****   /* USER CODE BEGIN 1 */
 1334              		.loc 2 137 1 view -0
 1335              		.cfi_startproc
 1336              		@ Volatile: function does not return.
 1337              		@ args = 0, pretend = 0, frame = 0
 1338              		@ frame_needed = 0, uses_anonymous_args = 0
 1339 0000 08B5     		push	{r3, lr}
 1340              	.LCFI21:
 1341              		.cfi_def_cfa_offset 8
 1342              		.cfi_offset 3, -8
 1343              		.cfi_offset 14, -4
 145:Src/main.c    **** 
 1344              		.loc 2 145 3 view .LVU308
 1345 0002 FFF7FEFF 		bl	HAL_Init
 1346              	.LVL129:
 152:Src/main.c    **** 
 1347              		.loc 2 152 3 view .LVU309
 1348 0006 FFF7FEFF 		bl	SystemClock_Config
 1349              	.LVL130:
 159:Src/main.c    ****   MX_USART2_UART_Init();
 1350              		.loc 2 159 3 view .LVU310
 1351 000a FFF7FEFF 		bl	MX_GPIO_Init
 1352              	.LVL131:
 160:Src/main.c    ****   MX_SPI2_Init();
 1353              		.loc 2 160 3 view .LVU311
 1354 000e FFF7FEFF 		bl	MX_USART2_UART_Init
 1355              	.LVL132:
 161:Src/main.c    ****   /* USER CODE BEGIN 2 */
 1356              		.loc 2 161 3 view .LVU312
 1357 0012 FFF7FEFF 		bl	MX_SPI2_Init
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 36


 1358              	.LVL133:
 164:Src/main.c    **** 
 1359              		.loc 2 164 3 view .LVU313
 1360 0016 FFF7FEFF 		bl	radio_setup
 1361              	.LVL134:
 1362              	.L97:
 170:Src/main.c    ****   {
 1363              		.loc 2 170 3 discriminator 1 view .LVU314
 173:Src/main.c    **** 
 1364              		.loc 2 173 5 discriminator 1 view .LVU315
 1365 001a FFF7FEFF 		bl	radio_loop
 1366              	.LVL135:
 1367 001e FCE7     		b	.L97
 1368              		.cfi_endproc
 1369              	.LFE140:
 1371              		.global	verbose
 1372              		.global	rf_nodeid
 1373              		.global	rf_group
 1374              		.global	rf_freq
 1375              		.global	txCnt
 1376              		.comm	txBuf,62,4
 1377              		.comm	rxBuf,64,4
 1378              		.comm	mode,1,1
 1379              		.comm	parity,1,1
 1380              		.comm	myId,1,1
 1381              		.comm	lna,1,1
 1382              		.comm	rssi,1,1
 1383              		.comm	afc,2,2
 1384              		.section	.bss.lastFlag.8941,"aw",%nobits
 1385              		.set	.LANCHOR1,. + 0
 1388              	lastFlag.8941:
 1389 0000 00       		.space	1
 1390              		.section	.bss.txCnt,"aw",%nobits
 1391              		.align	1
 1394              	txCnt:
 1395 0000 0000     		.space	2
 1396              		.section	.rodata.SystemClock_Config.str1.4,"aMS",%progbits,1
 1397              		.align	2
 1398              	.LC8:
 1399 0000 5372632F 		.ascii	"Src/main.c\000"
 1399      6D61696E 
 1399      2E6300
 1400              		.section	.rodata.configRegs,"a"
 1401              		.align	2
 1402              		.set	.LANCHOR0,. + 0
 1405              	configRegs:
 1406 0000 02       		.byte	2
 1407 0001 00       		.byte	0
 1408 0002 03       		.byte	3
 1409 0003 02       		.byte	2
 1410 0004 04       		.byte	4
 1411 0005 8A       		.byte	-118
 1412 0006 05       		.byte	5
 1413 0007 02       		.byte	2
 1414 0008 06       		.byte	6
 1415 0009 E1       		.byte	-31
 1416 000a 0B       		.byte	11
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 37


 1417 000b 20       		.byte	32
 1418 000c 19       		.byte	25
 1419 000d 4A       		.byte	74
 1420 000e 1A       		.byte	26
 1421 000f 42       		.byte	66
 1422 0010 1E       		.byte	30
 1423 0011 0C       		.byte	12
 1424 0012 25       		.byte	37
 1425 0013 40       		.byte	64
 1426 0014 26       		.byte	38
 1427 0015 07       		.byte	7
 1428 0016 29       		.byte	41
 1429 0017 A0       		.byte	-96
 1430 0018 2D       		.byte	45
 1431 0019 05       		.byte	5
 1432 001a 2E       		.byte	46
 1433 001b 88       		.byte	-120
 1434 001c 2F       		.byte	47
 1435 001d 2D       		.byte	45
 1436 001e 37       		.byte	55
 1437 001f D0       		.byte	-48
 1438 0020 38       		.byte	56
 1439 0021 42       		.byte	66
 1440 0022 3C       		.byte	60
 1441 0023 8F       		.byte	-113
 1442 0024 3D       		.byte	61
 1443 0025 12       		.byte	18
 1444 0026 6F       		.byte	111
 1445 0027 20       		.byte	32
 1446 0028 71       		.byte	113
 1447 0029 02       		.byte	2
 1448 002a 00       		.byte	0
 1449              		.section	.rodata.radio_loop.str1.4,"aMS",%progbits,1
 1450              		.align	2
 1451              	.LC3:
 1452 0000 2B00     		.ascii	"+\000"
 1453 0002 0000     		.space	2
 1454              	.LC4:
 1455 0004 00       		.ascii	"\000"
 1456 0005 000000   		.space	3
 1457              	.LC5:
 1458 0008 72663639 		.ascii	"rf69 %04x%02x%02x%02x%04x%02x%02x%02x \000"
 1458      20253034 
 1458      78253032 
 1458      78253032 
 1458      78253032 
 1459 002f 00       		.space	1
 1460              	.LC6:
 1461 0030 25303278 		.ascii	"%02x\000"
 1461      00
 1462 0035 000000   		.space	3
 1463              	.LC7:
 1464 0038 20202825 		.ascii	"  (%g%s%d:%d)\000"
 1464      67257325 
 1464      643A2564 
 1464      2900
 1465              		.section	.rodata.radio_setup.str1.4,"aMS",%progbits,1
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 38


 1466              		.align	2
 1467              	.LC0:
 1468 0000 0A5B7261 		.ascii	"\012[radio]\000"
 1468      64696F5D 
 1468      00
 1469 0009 000000   		.space	3
 1470              	.LC1:
 1471 000c 2020456E 		.ascii	"  Enter 't' to broadcast a test packet as node %d.\012"
 1471      74657220 
 1471      27742720 
 1471      746F2062 
 1471      726F6164 
 1472 003f 00       		.ascii	"\000"
 1473              	.LC2:
 1474 0040 20204C69 		.ascii	"  Listening for packets on %dMHz, group %d ...\012\012"
 1474      7374656E 
 1474      696E6720 
 1474      666F7220 
 1474      7061636B 
 1475 0070 00       		.ascii	"\000"
 1476              		.section	.rodata.rf_freq,"a"
 1477              		.align	2
 1480              	rf_freq:
 1481 0000 B1010000 		.word	433
 1482              		.section	.rodata.rf_group,"a"
 1483              		.align	2
 1486              	rf_group:
 1487 0000 D2000000 		.word	210
 1488              		.section	.rodata.rf_nodeid,"a"
 1489              		.align	2
 1492              	rf_nodeid:
 1493 0000 02000000 		.word	2
 1494              		.section	.rodata.verbose,"a"
 1497              	verbose:
 1498 0000 01       		.byte	1
 1499              		.text
 1500              	.Letext0:
 1501              		.file 3 "/usr/local/gcc-arm-none-eabi-8-2018-q4-major/arm-none-eabi/include/machine/_default_types
 1502              		.file 4 "/usr/local/gcc-arm-none-eabi-8-2018-q4-major/arm-none-eabi/include/sys/_stdint.h"
 1503              		.file 5 "Drivers/CMSIS/Include/core_cm4.h"
 1504              		.file 6 "Drivers/CMSIS/Device/ST/STM32F3xx/Include/system_stm32f3xx.h"
 1505              		.file 7 "Drivers/CMSIS/Device/ST/STM32F3xx/Include/stm32f303xe.h"
 1506              		.file 8 "/usr/local/gcc-arm-none-eabi-8-2018-q4-major/arm-none-eabi/include/sys/lock.h"
 1507              		.file 9 "/usr/local/gcc-arm-none-eabi-8-2018-q4-major/arm-none-eabi/include/sys/_types.h"
 1508              		.file 10 "/usr/local/gcc-arm-none-eabi-8-2018-q4-major/lib/gcc/arm-none-eabi/8.2.1/include/stddef.
 1509              		.file 11 "/usr/local/gcc-arm-none-eabi-8-2018-q4-major/arm-none-eabi/include/sys/reent.h"
 1510              		.file 12 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_def.h"
 1511              		.file 13 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_rcc.h"
 1512              		.file 14 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_rcc_ex.h"
 1513              		.file 15 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_dma.h"
 1514              		.file 16 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_spi.h"
 1515              		.file 17 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_uart.h"
 1516              		.file 18 "Inc/spi.h"
 1517              		.file 19 "Inc/usart.h"
 1518              		.file 20 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_cortex.h"
 1519              		.file 21 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal.h"
 1520              		.file 22 "Inc/gpio.h"
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 39


 1521              		.file 23 "/usr/local/gcc-arm-none-eabi-8-2018-q4-major/arm-none-eabi/include/stdio.h"
 1522              		.file 24 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_gpio.h"
 1523              		.file 25 "<built-in>"
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 40


DEFINED SYMBOLS
                            *ABS*:0000000000000000 main.c
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:18     .text.rfm69_rwReg:0000000000000000 $t
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:26     .text.rfm69_rwReg:0000000000000000 rfm69_rwReg
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:81     .text.rfm69_rwReg:0000000000000030 $d
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:86     .text.rfm69_readReg:0000000000000000 $t
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:93     .text.rfm69_readReg:0000000000000000 rfm69_readReg
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:117    .text.rfm69_writeReg:0000000000000000 $t
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:124    .text.rfm69_writeReg:0000000000000000 rfm69_writeReg
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:149    .text.rfm69_setMode:0000000000000000 $t
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:156    .text.rfm69_setMode:0000000000000000 rfm69_setMode
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:207    .text.rfm69_setMode:000000000000002c $d
                            *COM*:0000000000000001 mode
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:212    .text.rfm69_setFrequency:0000000000000000 $t
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:219    .text.rfm69_setFrequency:0000000000000000 rfm69_setFrequency
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:271    .text.rfm69_setFrequency:000000000000002c $d
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:276    .text.rfm69_configure:0000000000000000 $t
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:283    .text.rfm69_configure:0000000000000000 rfm69_configure
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:329    .text.rfm69_init:0000000000000000 $t
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:336    .text.rfm69_init:0000000000000000 rfm69_init
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:398    .text.rfm69_init:000000000000003c $d
                            *COM*:0000000000000001 myId
                            *COM*:0000000000000001 parity
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:405    .text.rfm69_encrypt:0000000000000000 $t
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:412    .text.rfm69_encrypt:0000000000000000 rfm69_encrypt
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:491    .text.rfm69_txPower:0000000000000000 $t
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:498    .text.rfm69_txPower:0000000000000000 rfm69_txPower
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:535    .text.rfm69_sleep:0000000000000000 $t
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:542    .text.rfm69_sleep:0000000000000000 rfm69_sleep
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:563    .text.rfm69_receive:0000000000000000 $t
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:570    .text.rfm69_receive:0000000000000000 rfm69_receive
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:792    .text.rfm69_receive:00000000000000cc $d
                            *COM*:0000000000000001 rssi
                            *COM*:0000000000000001 lna
                            *COM*:0000000000000002 afc
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:803    .text.rfm69_send:0000000000000000 $t
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:810    .text.rfm69_send:0000000000000000 rfm69_send
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:914    .text.rfm69_send:000000000000006c $d
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:920    .text.radio_setup:0000000000000000 $t
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:927    .text.radio_setup:0000000000000000 radio_setup
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:990    .text.radio_setup:0000000000000040 $d
                            *COM*:000000000000003e txBuf
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:1000   .text.radio_loop:0000000000000000 $t
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:1007   .text.radio_loop:0000000000000000 radio_loop
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:1145   .text.radio_loop:0000000000000090 $d
                            *COM*:0000000000000040 rxBuf
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:1160   .text._Error_Handler:0000000000000000 $t
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:1167   .text._Error_Handler:0000000000000000 _Error_Handler
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:1184   .text.SystemClock_Config:0000000000000000 $t
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:1191   .text.SystemClock_Config:0000000000000000 SystemClock_Config
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:1319   .text.SystemClock_Config:0000000000000084 $d
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:1325   .text.main:0000000000000000 $t
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:1332   .text.main:0000000000000000 main
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:1497   .rodata.verbose:0000000000000000 verbose
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:1492   .rodata.rf_nodeid:0000000000000000 rf_nodeid
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:1486   .rodata.rf_group:0000000000000000 rf_group
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:1480   .rodata.rf_freq:0000000000000000 rf_freq
ARM GAS  /var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s 			page 41


/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:1394   .bss.txCnt:0000000000000000 txCnt
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:1388   .bss.lastFlag.8941:0000000000000000 lastFlag.8941
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:1389   .bss.lastFlag.8941:0000000000000000 $d
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:1391   .bss.txCnt:0000000000000000 $d
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:1397   .rodata.SystemClock_Config.str1.4:0000000000000000 $d
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:1401   .rodata.configRegs:0000000000000000 $d
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:1405   .rodata.configRegs:0000000000000000 configRegs
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:1450   .rodata.radio_loop.str1.4:0000000000000000 $d
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:1466   .rodata.radio_setup.str1.4:0000000000000000 $d
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:1477   .rodata.rf_freq:0000000000000000 $d
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:1483   .rodata.rf_group:0000000000000000 $d
/var/folders/8c/gyvcglfx7f97kbqb2h83mm_r0000gn/T//cc6CmC7x.s:1489   .rodata.rf_nodeid:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
SPI_transfer8
puts
printf
__aeabi_i2d
__aeabi_dmul
putchar
HAL_RCC_OscConfig
HAL_RCC_ClockConfig
HAL_RCCEx_PeriphCLKConfig
HAL_RCC_GetHCLKFreq
HAL_SYSTICK_Config
HAL_SYSTICK_CLKSourceConfig
HAL_NVIC_SetPriority
HAL_Init
MX_GPIO_Init
MX_USART2_UART_Init
MX_SPI2_Init
